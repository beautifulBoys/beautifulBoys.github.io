(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{MnKr:function(Ic,Vt,Ne){"use strict";Ne.d(Vt,"a",function(){return Ut});var Wt=Ne("jrin"),Wn=Ne("WmNS"),Te=Ne.n(Wn),Kn=Ne("rAM+"),S=Ne("q1tI"),D=Ne.n(S),Mt=Ne("i8i4"),Pt=Ne.n(Mt),Kt=Te.a.mark(Ia);function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ae(e,t){if(e==null)return{};var n=qe(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function De(e){if(typeof e=="string"||typeof e=="number")return""+e;var t="";if(Array.isArray(e))for(var n=0,r;n<e.length;n++)(r=De(e[n]))!==""&&(t+=(t&&" ")+r);else for(var o in e)e[o]&&(t+=(t&&" ")+o);return t}function we(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var uo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Zn=function(){return Math.random().toString(36).substring(7).split("").join(".")},so={INIT:"@@redux/INIT"+Zn(),REPLACE:"@@redux/REPLACE"+Zn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zn()}};function kc(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kv(e){var t=typeof e;if(!1)var n,r,o,a;return t}function lo(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(we(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(we(1));return n(lo)(e,t)}if(typeof e!="function")throw new Error(we(2));var o=e,a=t,i=[],c=i,u=!1;function s(){c===i&&(c=i.slice())}function l(){if(u)throw new Error(we(3));return a}function d(_){if(typeof _!="function")throw new Error(we(4));if(u)throw new Error(we(5));var N=!0;return s(),c.push(_),function(){if(!!N){if(u)throw new Error(we(6));N=!1,s();var j=c.indexOf(_);c.splice(j,1),i=null}}}function g(_){if(!kc(_))throw new Error(we(7));if(typeof _.type=="undefined")throw new Error(we(8));if(u)throw new Error(we(9));try{u=!0,a=o(a,_)}finally{u=!1}for(var N=i=c,C=0;C<N.length;C++){var j=N[C];j()}return _}function h(_){if(typeof _!="function")throw new Error(we(10));o=_,g({type:so.REPLACE})}function m(){var _,N=d;return _={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(we(11));function B(){j.next&&j.next(l())}B();var A=N(B);return{unsubscribe:A}}},_[uo]=function(){return this},_}return g({type:so.INIT}),r={dispatch:g,subscribe:d,getState:l,replaceReducer:h},r[uo]=m,r}function Av(e){typeof console!="undefined"&&typeof console.error=="function"&&console.error(e);try{throw new Error(e)}catch(t){}}function fo(e,t){return function(){return t(e.apply(this,arguments))}}function po(e,t){if(typeof e=="function")return fo(e,t);if(typeof e!="object"||e===null)throw new Error(we(16));var n={};for(var r in e){var o=e[r];typeof o=="function"&&(n[r]=fo(o,t))}return n}function Lv(){}var Zt={exports:{}},Gn={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=typeof Symbol=="function"&&Symbol.for,qn=fe?Symbol.for("react.element"):60103,Qn=fe?Symbol.for("react.portal"):60106,Gt=fe?Symbol.for("react.fragment"):60107,qt=fe?Symbol.for("react.strict_mode"):60108,Qt=fe?Symbol.for("react.profiler"):60114,Jt=fe?Symbol.for("react.provider"):60109,en=fe?Symbol.for("react.context"):60110,Jn=fe?Symbol.for("react.async_mode"):60111,tn=fe?Symbol.for("react.concurrent_mode"):60111,nn=fe?Symbol.for("react.forward_ref"):60112,rn=fe?Symbol.for("react.suspense"):60113,Ac=fe?Symbol.for("react.suspense_list"):60120,on=fe?Symbol.for("react.memo"):60115,an=fe?Symbol.for("react.lazy"):60116,Lc=fe?Symbol.for("react.block"):60121,Bc=fe?Symbol.for("react.fundamental"):60117,zc=fe?Symbol.for("react.responder"):60118,$c=fe?Symbol.for("react.scope"):60119;function Ee(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qn:switch(e=e.type,e){case Jn:case tn:case Gt:case Qt:case qt:case rn:return e;default:switch(e=e&&e.$$typeof,e){case en:case nn:case an:case on:case Jt:return e;default:return t}}case Qn:return t}}}function vo(e){return Ee(e)===tn}ie.AsyncMode=Jn,ie.ConcurrentMode=tn,ie.ContextConsumer=en,ie.ContextProvider=Jt,ie.Element=qn,ie.ForwardRef=nn,ie.Fragment=Gt,ie.Lazy=an,ie.Memo=on,ie.Portal=Qn,ie.Profiler=Qt,ie.StrictMode=qt,ie.Suspense=rn,ie.isAsyncMode=function(e){return vo(e)||Ee(e)===Jn},ie.isConcurrentMode=vo,ie.isContextConsumer=function(e){return Ee(e)===en},ie.isContextProvider=function(e){return Ee(e)===Jt},ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qn},ie.isForwardRef=function(e){return Ee(e)===nn},ie.isFragment=function(e){return Ee(e)===Gt},ie.isLazy=function(e){return Ee(e)===an},ie.isMemo=function(e){return Ee(e)===on},ie.isPortal=function(e){return Ee(e)===Qn},ie.isProfiler=function(e){return Ee(e)===Qt},ie.isStrictMode=function(e){return Ee(e)===qt},ie.isSuspense=function(e){return Ee(e)===rn},ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gt||e===tn||e===Qt||e===qt||e===rn||e===Ac||typeof e=="object"&&e!==null&&(e.$$typeof===an||e.$$typeof===on||e.$$typeof===Jt||e.$$typeof===en||e.$$typeof===nn||e.$$typeof===Bc||e.$$typeof===zc||e.$$typeof===$c||e.$$typeof===Lc)},ie.typeOf=Ee;var Bv={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Gn.exports=ie;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ho=Object.getOwnPropertySymbols,Hc=Object.prototype.hasOwnProperty,Uc=Object.prototype.propertyIsEnumerable;function Xc(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Yc(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(a){return!1}}var Fc=Yc()?Object.assign:function(e,t){for(var n,r=Xc(e),o,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)Hc.call(n,i)&&(r[i]=n[i]);if(ho){o=ho(n);for(var c=0;c<o.length;c++)Uc.call(n,o[c])&&(r[o[c]]=n[o[c]])}}return r},Vc="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",go=Vc,zv=function(){};if(!1)var $v,Hv,Uv;function mo(e,t,n,r,o){if(!1)var a,i,c,u}mo.resetWarningCache=function(){};var Wc=mo,Kc=Gn.exports,Zc=Fc,pt=go,yo=Wc,Gc=Function.call.bind(Object.prototype.hasOwnProperty),qc=function(){};function cn(){return null}var Xv=function(t,n){var r=typeof Symbol=="function"&&Symbol.iterator,o="@@iterator";function a(P){var f=P&&(r&&P[r]||P[o]);if(typeof f=="function")return f}var i="<<anonymous>>",c={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:g(),arrayOf:h,element:m(),elementType:_(),instanceOf:N,node:A(),objectOf:j,oneOf:C,oneOfType:B,shape:O,exact:L};function u(P,f){return P===f?P!==0||1/P==1/f:P!==P&&f!==f}function s(P){this.message=P,this.stack=""}s.prototype=Error.prototype;function l(P){if(!1)var f,x;function M(E,T,k,v,y,p,b){if(v=v||i,p=p||k,b!==pt){if(n){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}else if(!1)var z}return T[k]==null?E?T[k]===null?new s("The "+y+" `"+p+"` is marked as required "+("in `"+v+"`, but its value is `null`.")):new s("The "+y+" `"+p+"` is marked as required in "+("`"+v+"`, but its value is `undefined`.")):null:P(T,k,v,y,p)}var w=M.bind(null,!1);return w.isRequired=M.bind(null,!0),w}function d(P){function f(x,M,w,E,T,k){var v=x[M],y=U(v);if(y!==P){var p=F(v);return new s("Invalid "+E+" `"+T+"` of type "+("`"+p+"` supplied to `"+w+"`, expected ")+("`"+P+"`."))}return null}return l(f)}function g(){return l(cn)}function h(P){function f(x,M,w,E,T){if(typeof P!="function")return new s("Property `"+T+"` of component `"+w+"` has invalid PropType notation inside arrayOf.");var k=x[M];if(!Array.isArray(k)){var v=U(k);return new s("Invalid "+E+" `"+T+"` of type "+("`"+v+"` supplied to `"+w+"`, expected an array."))}for(var y=0;y<k.length;y++){var p=P(k,y,w,E,T+"["+y+"]",pt);if(p instanceof Error)return p}return null}return l(f)}function m(){function P(f,x,M,w,E){var T=f[x];if(!t(T)){var k=U(T);return new s("Invalid "+w+" `"+E+"` of type "+("`"+k+"` supplied to `"+M+"`, expected a single ReactElement."))}return null}return l(P)}function _(){function P(f,x,M,w,E){var T=f[x];if(!Kc.isValidElementType(T)){var k=U(T);return new s("Invalid "+w+" `"+E+"` of type "+("`"+k+"` supplied to `"+M+"`, expected a single ReactElement type."))}return null}return l(P)}function N(P){function f(x,M,w,E,T){if(!(x[M]instanceof P)){var k=P.name||i,v=Y(x[M]);return new s("Invalid "+E+" `"+T+"` of type "+("`"+v+"` supplied to `"+w+"`, expected ")+("instance of `"+k+"`."))}return null}return l(f)}function C(P){if(!Array.isArray(P))return cn;function f(x,M,w,E,T){for(var k=x[M],v=0;v<P.length;v++)if(u(k,P[v]))return null;var y=JSON.stringify(P,function(b,R){var z=F(R);return z==="symbol"?String(R):R});return new s("Invalid "+E+" `"+T+"` of value `"+String(k)+"` "+("supplied to `"+w+"`, expected one of "+y+"."))}return l(f)}function j(P){function f(x,M,w,E,T){if(typeof P!="function")return new s("Property `"+T+"` of component `"+w+"` has invalid PropType notation inside objectOf.");var k=x[M],v=U(k);if(v!=="object")return new s("Invalid "+E+" `"+T+"` of type "+("`"+v+"` supplied to `"+w+"`, expected an object."));for(var y in k)if(Gc(k,y)){var p=P(k,y,w,E,T+"."+y,pt);if(p instanceof Error)return p}return null}return l(f)}function B(P){if(!Array.isArray(P))return cn;for(var f=0;f<P.length;f++){var x=P[f];if(typeof x!="function")return qc("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+H(x)+" at index "+f+"."),cn}function M(w,E,T,k,v){for(var y=0;y<P.length;y++){var p=P[y];if(p(w,E,T,k,v,pt)==null)return null}return new s("Invalid "+k+" `"+v+"` supplied to "+("`"+T+"`."))}return l(M)}function A(){function P(f,x,M,w,E){return $(f[x])?null:new s("Invalid "+w+" `"+E+"` supplied to "+("`"+M+"`, expected a ReactNode."))}return l(P)}function O(P){function f(x,M,w,E,T){var k=x[M],v=U(k);if(v!=="object")return new s("Invalid "+E+" `"+T+"` of type `"+v+"` "+("supplied to `"+w+"`, expected `object`."));for(var y in P){var p=P[y];if(!!p){var b=p(k,y,w,E,T+"."+y,pt);if(b)return b}}return null}return l(f)}function L(P){function f(x,M,w,E,T){var k=x[M],v=U(k);if(v!=="object")return new s("Invalid "+E+" `"+T+"` of type `"+v+"` "+("supplied to `"+w+"`, expected `object`."));var y=Zc({},x[M],P);for(var p in y){var b=P[p];if(!b)return new s("Invalid "+E+" `"+T+"` key `"+p+"` supplied to `"+w+"`.\nBad object: "+JSON.stringify(x[M],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(P),null,"  "));var R=b(k,p,w,E,T+"."+p,pt);if(R)return R}return null}return l(f)}function $(P){switch(typeof P){case"number":case"string":case"undefined":return!0;case"boolean":return!P;case"object":if(Array.isArray(P))return P.every($);if(P===null||t(P))return!0;var f=a(P);if(f){var x=f.call(P),M;if(f!==P.entries){for(;!(M=x.next()).done;)if(!$(M.value))return!1}else for(;!(M=x.next()).done;){var w=M.value;if(w&&!$(w[1]))return!1}}else return!1;return!0;default:return!1}}function I(P,f){return P==="symbol"?!0:f?f["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&f instanceof Symbol:!1}function U(P){var f=typeof P;return Array.isArray(P)?"array":P instanceof RegExp?"object":I(f,P)?"symbol":f}function F(P){if(typeof P=="undefined"||P===null)return""+P;var f=U(P);if(f==="object"){if(P instanceof Date)return"date";if(P instanceof RegExp)return"regexp"}return f}function H(P){var f=F(P);switch(f){case"array":case"object":return"an "+f;case"boolean":case"date":case"regexp":return"a "+f;default:return f}}function Y(P){return!P.constructor||!P.constructor.name?i:P.constructor.name}return c.checkPropTypes=yo,c.resetWarningCache=yo.resetWarningCache,c.PropTypes=c,c},Qc=go;function bo(){}function So(){}So.resetWarningCache=bo;var Jc=function(){function t(o,a,i,c,u,s){if(s!==Qc){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function n(){return t}var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:So,resetWarningCache:bo};return r.PropTypes=r,r};if(!1)var Yv,Fv;else Zt.exports=Jc();var Vv=Zt.exports,Ve=D.a.createContext(null);function eu(e){e()}var wo=eu,tu=function(t){return wo=t},nu=function(){return wo},Eo={notify:function(){}};function ru(){var e=nu(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var o=t;o;)o.callback(),o=o.next})},get:function(){for(var o=[],a=t;a;)o.push(a),a=a.next;return o},subscribe:function(o){var a=!0,i=n={callback:o,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Oo=function(){function e(n,r){this.store=n,this.parentSub=r,this.unsubscribe=null,this.listeners=Eo,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(r){return this.trySubscribe(),this.listeners.subscribe(r)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=ru())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Eo)},e}(),er=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?S.useLayoutEffect:S.useEffect;function _o(e){var t=e.store,n=e.context,r=e.children,o=Object(S.useMemo)(function(){var c=new Oo(t);return c.onStateChange=c.notifyNestedSubs,{store:t,subscription:c}},[t]),a=Object(S.useMemo)(function(){return t.getState()},[t]);er(function(){var c=o.subscription;return c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[o,a]);var i=n||Ve;return D.a.createElement(i.Provider,{value:o},r)}var xo=Gn.exports,ou={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},au={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Co={};Co[xo.ForwardRef]=ou,Co[xo.Memo]=au;function Mo(){var e=Object(S.useContext)(Ve);return e}function Po(e){e===void 0&&(e=Ve);var t=e===Ve?Mo:function(){return Object(S.useContext)(e)};return function(){var r=t(),o=r.store;return o}}var No=Po();function iu(e){e===void 0&&(e=Ve);var t=e===Ve?No:Po(e);return function(){var r=t();return r.dispatch}}var To=iu(),cu=function(t,n){return t===n};function uu(e,t,n,r){var o=Object(S.useReducer)(function(m){return m+1},0),a=o[1],i=Object(S.useMemo)(function(){return new Oo(n,r)},[n,r]),c=Object(S.useRef)(),u=Object(S.useRef)(),s=Object(S.useRef)(),l=Object(S.useRef)(),d=n.getState(),g;try{if(e!==u.current||d!==s.current||c.current){var h=e(d);l.current===void 0||!t(h,l.current)?g=h:g=l.current}else g=l.current}catch(m){throw c.current&&(m.message+=`
The error may be correlated with this previous error:
`+c.current.stack+`

`),m}return er(function(){u.current=e,s.current=d,l.current=g,c.current=void 0}),er(function(){function m(){try{var _=n.getState(),N=u.current(_);if(t(N,l.current))return;l.current=N,s.current=_}catch(C){c.current=C}a()}return i.onStateChange=m,i.trySubscribe(),m(),function(){return i.tryUnsubscribe()}},[n,i]),g}function su(e){e===void 0&&(e=Ve);var t=e===Ve?Mo:function(){return Object(S.useContext)(e)};return function(r,o){o===void 0&&(o=cu);var a=t(),i=a.store,c=a.subscription,u=uu(r,o,i,c);return Object(S.useDebugValue)(u),u}}var lu=su();tu(Mt.unstable_batchedUpdates);function te(e,t){return{type:e,payload:t}}var Do="SET_ON_CONNECT",jo="SET_ON_CONNECT_START",Ro="SET_ON_CONNECT_STOP",Io="SET_ON_CONNECT_END",ko="SET_ELEMENTS",Ao="UPDATE_NODE_DIMENSIONS",Lo="UPDATE_NODE_POS",Bo="UPDATE_NODE_POS_DIFF",zo="SET_USER_SELECTION",$o="UPDATE_USER_SELECTION",Ho="UNSET_USER_SELECTION",fu="SET_SELECTION",Uo="UNSET_NODES_SELECTION",Xo="SET_SELECTED_ELEMENTS",Yo="RESET_SELECTED_ELEMENTS",Fo="ADD_SELECTED_ELEMENTS",Vo="UPDATE_TRANSFORM",Wo="UPDATE_SIZE",Ko="INIT_D3ZOOM",Zo="SET_MINZOOM",Go="SET_MAXZOOM",qo="SET_TRANSLATEEXTENT",Qo="SET_CONNECTION_POSITION",Jo="SET_CONNECTION_NODEID",ea="SET_SNAPTOGRID",ta="SET_SNAPGRID",na="SET_INTERACTIVE",ra="SET_NODES_DRAGGABLE",oa="SET_NODES_CONNECTABLE",aa="SET_ELEMENTS_SELECTABLE",ia="SET_MULTI_SELECTION_ACTIVE",ca="SET_CONNECTION_MODE",ua="SET_NODE_EXTENT",du=function(t){return te(Do,{onConnect:t})},pu=function(t){return te(jo,{onConnectStart:t})},vu=function(t){return te(Ro,{onConnectStop:t})},hu=function(t){return te(Io,{onConnectEnd:t})},gu=function(t){return te(ko,t)},mu=function(t){return te(Ao,t)},yu=function(t){return te(Lo,t)},bu=function(t){return te(Bo,t)},Su=function(t){return te(zo,t)},wu=function(t){return te($o,t)},Eu=function(){return te(Ho)},Ou=function(t){return te(fu,{selectionActive:t})},_u=function(){return te(Uo,{nodesSelectionActive:!1})},xu=function(){return te(Yo,{selectedElements:null})},Cu=function(t){return te(Xo,t)},Mu=function(t){return te(Fo,t)},Pu=function(t){return te(Vo,{transform:t})},Nu=function(t){return te(Wo,{width:t.width||500,height:t.height||500})},Tu=function(t){return te(Ko,t)},Du=function(t){return te(Zo,t)},ju=function(t){return te(Go,t)},Ru=function(t){return te(qo,t)},Iu=function(t){return te(Qo,{connectionPosition:t})},ku=function(t){return te(Jo,t)},Au=function(t){return te(ea,{snapToGrid:t})},Lu=function(t){return te(ta,{snapGrid:t})},Bu=function(t){return te(na,{nodesDraggable:t,nodesConnectable:t,elementsSelectable:t})},zu=function(t){return te(ra,{nodesDraggable:t})},$u=function(t){return te(oa,{nodesConnectable:t})},Hu=function(t){return te(aa,{elementsSelectable:t})},Uu=function(t){return te(ia,{multiSelectionActive:t})},Xu=function(t){return te(ca,{connectionMode:t})},Yu=function(t){return te(ua,t)},Fu=Object.freeze({__proto__:null,setOnConnect:du,setOnConnectStart:pu,setOnConnectStop:vu,setOnConnectEnd:hu,setElements:gu,updateNodeDimensions:mu,updateNodePos:yu,updateNodePosDiff:bu,setUserSelection:Su,updateUserSelection:wu,unsetUserSelection:Eu,setSelection:Ou,unsetNodesSelection:_u,resetSelectedElements:xu,setSelectedElements:Cu,addSelectedElements:Mu,updateTransform:Pu,updateSize:Nu,initD3Zoom:Tu,setMinZoom:Du,setMaxZoom:ju,setTranslateExtent:Ru,setConnectionPosition:Iu,setConnectionNodeId:ku,setSnapToGrid:Au,setSnapGrid:Lu,setInteractive:Bu,setNodesDraggable:zu,setNodesConnectable:$u,setElementsSelectable:Hu,setMultiSelectionActive:Uu,setConnectionMode:Xu,setNodeExtent:Yu}),Vu=lu;function G(e){var t=To(),n=e(Fu),r=Object(S.useMemo)(function(){return typeof n=="function",po(n,t)},[t,n]);return r}var Z=Vu,un=function(){var t=No();return t},Wv=To;function tr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wu(e){if(Array.isArray(e))return tr(e)}function Ku(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sa(e,t){if(!!e){if(typeof e=="string")return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(e,t)}}function Zu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qe(e){return Wu(e)||Ku(e)||sa(e)||Zu()}function Gu(e){if(Array.isArray(e))return e}function qu(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,i,c;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));o=!0);}catch(u){a=!0,c=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw c}}return r}}function Qu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function de(e,t){return Gu(e)||qu(e,t)||sa(e,t)||Qu()}var la=function(t){var n=t==null?void 0:t.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))},nr=function(t){return{width:t.offsetWidth,height:t.offsetHeight}},vt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,n),r)},fa=function(t,n){return{x:vt(t.x,n[0][0],n[1][0]),y:vt(t.y,n[0][1],n[1][1])}},Ju=function(t){var n,r;return((n=t.getRootNode)===null||n===void 0?void 0:n.call(t))||((r=window)===null||r===void 0?void 0:r.document)},sn=function(t){var n=Object(S.useState)(!1),r=de(n,2),o=r[0],a=r[1];return Object(S.useEffect)(function(){if(typeof t!="undefined"){var i=function(l){!la(l)&&(l.key===t||l.keyCode===t)&&(l.preventDefault(),a(!0))},c=function(l){!la(l)&&(l.key===t||l.keyCode===t)&&a(!1)},u=function(){return a(!1)};return window.addEventListener("keydown",i),window.addEventListener("keyup",c),window.addEventListener("blur",u),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",c),window.removeEventListener("blur",u)}}},[t,a]),o};function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?da(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var it=function(t){return"id"in t&&"source"in t&&"target"in t},ct=function(t){return"id"in t&&!("source"in t)&&!("target"in t)},Kv=function(t,n){if(!ct(t))return[];var r=n.filter(function(o){return it(o)&&o.source===t.id}).map(function(o){return o.target});return n.filter(function(o){return r.includes(o.id)})},Zv=function(t,n){if(!ct(t))return[];var r=n.filter(function(o){return it(o)&&o.target===t.id}).map(function(o){return o.source});return n.filter(function(o){return r.includes(o.id)})},Gv=function(t,n){var r=t.map(function(o){return o.id});return n.filter(function(o){var a=o;return!(r.includes(o.id)||r.includes(a.target)||r.includes(a.source))})},pa=function(t){var n=t.source,r=t.sourceHandle,o=t.target,a=t.targetHandle;return"reactflow__edge-".concat(n).concat(r,"-").concat(o).concat(a)},es=function(t,n){return n.some(function(r){return it(r)&&r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)})},qv=function(t,n){if(!t.source||!t.target)return console.warn("Can't create edge. An edge needs a source and a target."),n;var r;return it(t)?r=ye({},t):r=ye(ye({},t),{},{id:pa(t)}),es(r,n)?n:n.concat(r)},Qv=function(t,n,r){if(!n.source||!n.target)return console.warn("Can't create new edge. An edge needs a source and a target."),r;var o=r.find(function(i){return it(i)&&i.id===t.id});if(!o)return console.warn("The old edge with id=".concat(t.id," does not exist.")),r;var a=ye(ye({},t),{},{id:pa(n),source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle});return r.filter(function(i){return i.id!==t.id}).concat(a)},va=function(t,n,r,o){var a=t.x,i=t.y,c=de(n,3),u=c[0],s=c[1],l=c[2],d=de(o,2),g=d[0],h=d[1],m={x:(a-u)/l,y:(i-s)/l};return r?{x:g*Math.round(m.x/g),y:h*Math.round(m.y/h)}:m},ts=function(t){return function(n){var r=t.getState(),o=r.transform,a=r.snapToGrid,i=r.snapGrid;return va(n,o,a,i)}},ns=function(t,n){return ye(ye({},t),{},{id:t.id.toString(),type:t.type||"default",__rf:{position:fa(t.position,n),width:null,height:null,handleBounds:{},isDragging:!1}})},rs=function(t){return ye(ye({},t),{},{source:t.source.toString(),target:t.target.toString(),sourceHandle:t.sourceHandle?t.sourceHandle.toString():null,targetHandle:t.targetHandle?t.targetHandle.toString():null,id:t.id.toString(),type:t.type||"default"})},ha=function(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}},ht=function(t){var n=t.x,r=t.y,o=t.width,a=t.height;return{x:n,y:r,x2:n+o,y2:r+a}},ga=function(t){var n=t.x,r=t.y,o=t.x2,a=t.y2;return{x:n,y:r,width:o-n,height:a-r}},os=function(t,n){return ga(ha(ht(t),ht(n)))},rr=function(t){var n=t.reduce(function(r,o){var a=o.__rf;a=a===void 0?{}:a;var i=a.position,c=a.width,u=a.height;return ha(r,ht(ye(ye({},i),{},{width:c,height:u})))},{x:Infinity,y:Infinity,x2:-Infinity,y2:-Infinity});return ga(n)},ma=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],o=de(r,3),a=o[0],i=o[1],c=o[2],u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=ht({x:(n.x-a)/c,y:(n.y-i)/c,width:n.width/c,height:n.height/c});return t.filter(function(l){var d=l.__rf,g=d.position,h=d.width,m=d.height,_=d.isDragging,N=ht(ye(ye({},g),{},{width:h,height:m})),C=Math.max(0,Math.min(s.x2,N.x2)-Math.max(s.x,N.x)),j=Math.max(0,Math.min(s.y2,N.y2)-Math.max(s.y,N.y)),B=Math.ceil(C*j);if(h===null||m===null||_)return!0;if(u)return B>0;var A=h*m;return B>=A})},ya=function(t,n){var r=t.map(function(o){return o.id});return n.filter(function(o){return r.includes(o.source)||r.includes(o.target)})},ba=function(t,n){return[].concat(Qe(t.map(function(r){var o=ye({},r);return o.position=o.__rf.position,delete o.__rf,o})),Qe(n.map(function(r){return ye({},r)})))},as=function(t){return function(){var n=t.getState(),r=n.nodes,o=r===void 0?[]:r,a=n.edges,i=a===void 0?[]:a;return ba(o,i)}},is=function(t){return function(){var n=t.getState(),r=n.nodes,o=r===void 0?[]:r,a=n.edges,i=a===void 0?[]:a,c=n.transform;return{elements:ba(o,i),position:[c[0],c[1]],zoom:c[2]}}},Sa=function(t,n,r,o,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,c=n/(t.width*(1+i)),u=r/(t.height*(1+i)),s=Math.min(c,u),l=vt(s,o,a),d=t.x+t.width/2,g=t.y+t.height/2,h=n/2-d*l,m=r/2-g*l;return[h,m,l]},cs=function(t){var n=t.deleteKeyCode,r=t.multiSelectionKeyCode,o=t.onElementsRemove,a=un(),i=G(function(d){return d.unsetNodesSelection}),c=G(function(d){return d.setMultiSelectionActive}),u=G(function(d){return d.resetSelectedElements}),s=sn(n),l=sn(r);Object(S.useEffect)(function(){var d=a.getState(),g=d.edges,h=d.selectedElements;if(o&&s&&h){var m=h.filter(ct),_=ya(m,g),N=[].concat(Qe(h),Qe(_)).reduce(function(C,j){return C.set(j.id,j)},new Map);o(Array.from(N.values())),i(),u()}},[s]),Object(S.useEffect)(function(){c(l)},[l])},us={value:function(){}};function or(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ln(n)}function ln(e){this._=e}function ss(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ln.prototype=or.prototype={constructor:ln,on:function(t,n){var r=this._,o=ss(t+"",r),a,i=-1,c=o.length;if(arguments.length<2){for(;++i<c;)if((a=(t=o[i]).type)&&(a=ls(r[a],t.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<c;)if(a=(t=o[i]).type)r[a]=wa(r[a],t.name,n);else if(n==null)for(a in r)r[a]=wa(r[a],t.name,null);return this},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new ln(t)},call:function(t,n){if((a=arguments.length-2)>0)for(var r=new Array(a),o=0,a,i;o<a;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(n,r)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],a=0,i=o.length;a<i;++a)o[a].value.apply(n,r)}};function ls(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function wa(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=us,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ar="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:ar,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ea.hasOwnProperty(t)?{space:Ea[t],local:e}:e}function fs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ar&&t.documentElement.namespaceURI===ar?t.createElement(e):t.createElementNS(n,e)}}function ds(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oa(e){var t=fn(e);return(t.local?ds:fs)(t)}function ps(){}function ir(e){return e==null?ps:function(){return this.querySelector(e)}}function vs(e){typeof e!="function"&&(e=ir(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,c=r[o]=new Array(i),u,s,l=0;l<i;++l)(u=a[l])&&(s=e.call(u,u.__data__,l,a))&&("__data__"in u&&(s.__data__=u.__data__),c[l]=s);return new Oe(r,this._parents)}function hs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gs(){return[]}function _a(e){return e==null?gs:function(){return this.querySelectorAll(e)}}function ms(e){return function(){return hs(e.apply(this,arguments))}}function ys(e){typeof e=="function"?e=ms(e):e=_a(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i=t[a],c=i.length,u,s=0;s<c;++s)(u=i[s])&&(r.push(e.call(u,u.__data__,s,i)),o.push(u));return new Oe(r,o)}function xa(e){return function(){return this.matches(e)}}function Ca(e){return function(t){return t.matches(e)}}var bs=Array.prototype.find;function Ss(e){return function(){return bs.call(this.children,e)}}function ws(){return this.firstElementChild}function Es(e){return this.select(e==null?ws:Ss(typeof e=="function"?e:Ca(e)))}var Os=Array.prototype.filter;function _s(){return Array.from(this.children)}function xs(e){return function(){return Os.call(this.children,e)}}function Cs(e){return this.selectAll(e==null?_s:xs(typeof e=="function"?e:Ca(e)))}function Ms(e){typeof e!="function"&&(e=xa(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,c=r[o]=[],u,s=0;s<i;++s)(u=a[s])&&e.call(u,u.__data__,s,a)&&c.push(u);return new Oe(r,this._parents)}function Ma(e){return new Array(e.length)}function Ps(){return new Oe(this._enter||this._groups.map(Ma),this._parents)}function dn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}dn.prototype={constructor:dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ns(e){return function(){return e}}function Ts(e,t,n,r,o,a){for(var i=0,c,u=t.length,s=a.length;i<s;++i)(c=t[i])?(c.__data__=a[i],r[i]=c):n[i]=new dn(e,a[i]);for(;i<u;++i)(c=t[i])&&(o[i]=c)}function Ds(e,t,n,r,o,a,i){var c,u,s=new Map,l=t.length,d=a.length,g=new Array(l),h;for(c=0;c<l;++c)(u=t[c])&&(g[c]=h=i.call(u,u.__data__,c,t)+"",s.has(h)?o[c]=u:s.set(h,u));for(c=0;c<d;++c)h=i.call(e,a[c],c,a)+"",(u=s.get(h))?(r[c]=u,u.__data__=a[c],s.delete(h)):n[c]=new dn(e,a[c]);for(c=0;c<l;++c)(u=t[c])&&s.get(g[c])===u&&(o[c]=u)}function js(e){return e.__data__}function Rs(e,t){if(!arguments.length)return Array.from(this,js);var n=t?Ds:Ts,r=this._parents,o=this._groups;typeof e!="function"&&(e=Ns(e));for(var a=o.length,i=new Array(a),c=new Array(a),u=new Array(a),s=0;s<a;++s){var l=r[s],d=o[s],g=d.length,h=Is(e.call(l,l&&l.__data__,s,r)),m=h.length,_=c[s]=new Array(m),N=i[s]=new Array(m),C=u[s]=new Array(g);n(l,d,_,N,C,h,t);for(var j=0,B=0,A,O;j<m;++j)if(A=_[j]){for(j>=B&&(B=j+1);!(O=N[B])&&++B<m;);A._next=O||null}}return i=new Oe(i,r),i._enter=c,i._exit=u,i}function Is(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ks(){return new Oe(this._exit||this._groups.map(Ma),this._parents)}function As(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function Ls(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),c=new Array(o),u=0;u<i;++u)for(var s=n[u],l=r[u],d=s.length,g=c[u]=new Array(d),h,m=0;m<d;++m)(h=s[m]||l[m])&&(g[m]=h);for(;u<o;++u)c[u]=n[u];return new Oe(c,this._parents)}function Bs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],i;--o>=0;)(i=r[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function zs(e){e||(e=$s);function t(d,g){return d&&g?e(d.__data__,g.__data__):!d-!g}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i=n[a],c=i.length,u=o[a]=new Array(c),s,l=0;l<c;++l)(s=i[l])&&(u[l]=s);u.sort(t)}return new Oe(o,this._parents).order()}function $s(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hs(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Us(){return Array.from(this)}function Xs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null}function Ys(){var e=0,t=Object(Kn.a)(this),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;++e}}catch(o){t.e(o)}finally{t.f()}return e}function Fs(){return!this.node()}function Vs(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,i=o.length,c;a<i;++a)(c=o[a])&&e.call(c,c.__data__,a,o);return this}function Ws(e){return function(){this.removeAttribute(e)}}function Ks(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zs(e,t){return function(){this.setAttribute(e,t)}}function Gs(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Qs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Js(e,t){var n=fn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ks:Ws:typeof t=="function"?n.local?Qs:qs:n.local?Gs:Zs)(n,t))}function Pa(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function el(e){return function(){this.style.removeProperty(e)}}function tl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function nl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function rl(e,t,n){return arguments.length>1?this.each((t==null?el:typeof t=="function"?nl:tl)(e,t,n==null?"":n)):gt(this.node(),e)}function gt(e,t){return e.style.getPropertyValue(t)||Pa(e).getComputedStyle(e,null).getPropertyValue(t)}function ol(e){return function(){delete this[e]}}function al(e,t){return function(){this[e]=t}}function il(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cl(e,t){return arguments.length>1?this.each((t==null?ol:typeof t=="function"?il:al)(e,t)):this.node()[e]}function Na(e){return e.trim().split(/^|\s+/)}function cr(e){return e.classList||new Ta(e)}function Ta(e){this._node=e,this._names=Na(e.getAttribute("class")||"")}Ta.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Da(e,t){for(var n=cr(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ja(e,t){for(var n=cr(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ul(e){return function(){Da(this,e)}}function sl(e){return function(){ja(this,e)}}function ll(e,t){return function(){(t.apply(this,arguments)?Da:ja)(this,e)}}function fl(e,t){var n=Na(e+"");if(arguments.length<2){for(var r=cr(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?ll:t?ul:sl)(n,t))}function dl(){this.textContent=""}function pl(e){return function(){this.textContent=e}}function vl(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function hl(e){return arguments.length?this.each(e==null?dl:(typeof e=="function"?vl:pl)(e)):this.node().textContent}function gl(){this.innerHTML=""}function ml(e){return function(){this.innerHTML=e}}function yl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function bl(e){return arguments.length?this.each(e==null?gl:(typeof e=="function"?yl:ml)(e)):this.node().innerHTML}function Sl(){this.nextSibling&&this.parentNode.appendChild(this)}function wl(){return this.each(Sl)}function El(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ol(){return this.each(El)}function _l(e){var t=typeof e=="function"?e:Oa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xl(){return null}function Cl(e,t){var n=typeof e=="function"?e:Oa(e),r=t==null?xl:typeof t=="function"?t:ir(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ml(){var e=this.parentNode;e&&e.removeChild(this)}function Pl(){return this.each(Ml)}function Nl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Tl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dl(e){return this.select(e?Tl:Nl)}function jl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Rl(e){return function(t){e.call(this,t,this.__data__)}}function Il(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function kl(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Al(e,t,n){return function(){var r=this.__on,o,a=Rl(t);if(r){for(var i=0,c=r.length;i<c;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Ll(e,t,n){var r=Il(e+""),o,a=r.length,i;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,s=c.length,l;u<s;++u)for(o=0,l=c[u];o<a;++o)if((i=r[o]).type===l.type&&i.name===l.name)return l.value}return}for(c=t?Al:kl,o=0;o<a;++o)this.each(c(r[o],t,n));return this}function Ra(e,t,n){var r=Pa(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Bl(e,t){return function(){return Ra(this,e,t)}}function zl(e,t){return function(){return Ra(this,e,t.apply(this,arguments))}}function $l(e,t){return this.each((typeof t=="function"?zl:Bl)(e,t))}function Ia(){var e,t,n,r,o,a,i;return Te.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){u.next=13;break}r=e[t],o=0,a=r.length;case 3:if(!(o<a)){u.next=10;break}if(!(i=r[o])){u.next=7;break}return u.next=7,i;case 7:++o,u.next=3;break;case 10:++t,u.next=1;break;case 13:case"end":return u.stop()}},Kt,this)}var ka=[null];function Oe(e,t){this._groups=e,this._parents=t}function Nt(){return new Oe([[document.documentElement]],ka)}function Hl(){return this}Oe.prototype=Nt.prototype=Object(Wt.a)({constructor:Oe,select:vs,selectAll:ys,selectChild:Es,selectChildren:Cs,filter:Ms,data:Rs,enter:Ps,exit:ks,join:As,merge:Ls,selection:Hl,order:Bs,sort:zs,call:Hs,nodes:Us,node:Xs,size:Ys,empty:Fs,each:Vs,attr:Js,style:rl,property:cl,classed:fl,text:hl,html:bl,raise:wl,lower:Ol,append:_l,insert:Cl,remove:Pl,clone:Dl,datum:jl,on:Ll,dispatch:$l},Symbol.iterator,Ia);function Je(e){return typeof e=="string"?new Oe([[document.querySelector(e)]],[document.documentElement]):new Oe([[e]],ka)}function Ul(e){for(var t;t=e.sourceEvent;)e=t;return e}function et(e,t){if(e=Ul(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var ur={capture:!0,passive:!1};function sr(e){e.preventDefault(),e.stopImmediatePropagation()}function Xl(e){var t=e.document.documentElement,n=Je(e).on("dragstart.drag",sr,ur);"onselectstart"in t?n.on("selectstart.drag",sr,ur):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Yl(e,t){var n=e.document.documentElement,r=Je(e).on("dragstart.drag",null);t&&(r.on("click.drag",sr,ur),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function lr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Aa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tt(){}var Dt=.7,pn=1/Dt,mt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fl=/^#([0-9a-f]{3,8})$/,Vl=new RegExp("^rgb\\("+[mt,mt,mt]+"\\)$"),Wl=new RegExp("^rgb\\("+[He,He,He]+"\\)$"),Kl=new RegExp("^rgba\\("+[mt,mt,mt,jt]+"\\)$"),Zl=new RegExp("^rgba\\("+[He,He,He,jt]+"\\)$"),Gl=new RegExp("^hsl\\("+[jt,He,He]+"\\)$"),ql=new RegExp("^hsla\\("+[jt,He,He,jt]+"\\)$"),La={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lr(Tt,Rt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ba,formatHex:Ba,formatHsl:Ql,formatRgb:za,toString:za});function Ba(){return this.rgb().formatHex()}function Ql(){return Ya(this).formatHsl()}function za(){return this.rgb().formatRgb()}function Rt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$a(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Vl.exec(e))?new _e(t[1],t[2],t[3],1):(t=Wl.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kl.exec(e))?vn(t[1],t[2],t[3],t[4]):(t=Zl.exec(e))?vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gl.exec(e))?Xa(t[1],t[2]/100,t[3]/100,1):(t=ql.exec(e))?Xa(t[1],t[2]/100,t[3]/100,t[4]):La.hasOwnProperty(e)?$a(La[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function $a(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function vn(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function Jl(e){return e instanceof Tt||(e=Rt(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function fr(e,t,n,r){return arguments.length===1?Jl(e):new _e(e,t,n,r==null?1:r)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lr(_e,fr,Aa(Tt,{brighter:function(t){return t=t==null?pn:Math.pow(pn,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Dt:Math.pow(Dt,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ha,formatHex:Ha,formatRgb:Ua,toString:Ua}));function Ha(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)}function Ua(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function dr(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Xa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ue(e,t,n,r)}function Ya(e){if(e instanceof Ue)return new Ue(e.h,e.s,e.l,e.opacity);if(e instanceof Tt||(e=Rt(e)),!e)return new Ue;if(e instanceof Ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,c=a-o,u=(a+o)/2;return c?(t===a?i=(n-r)/c+(n<r)*6:n===a?i=(r-t)/c+2:i=(t-n)/c+4,c/=u<.5?a+o:2-a-o,i*=60):c=u>0&&u<1?0:i,new Ue(i,c,u,e.opacity)}function ef(e,t,n,r){return arguments.length===1?Ya(e):new Ue(e,t,n,r==null?1:r)}function Ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lr(Ue,ef,Aa(Tt,{brighter:function(t){return t=t==null?pn:Math.pow(pn,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Dt:Math.pow(Dt,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,a=2*r-o;return new _e(pr(t>=240?t-240:t+120,a,o),pr(t,a,o),pr(t<120?t+240:t-120,a,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function pr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Fa=function(t){return function(){return t}};function tf(e,t){return function(n){return e+n*t}}function nf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rf(e){return(e=+e)==1?Va:function(t,n){return n-t?nf(t,n,e):Fa(isNaN(t)?n:t)}}function Va(e,t){var n=t-e;return n?tf(e,n):Fa(isNaN(e)?t:e)}var Wa=function e(t){var n=rf(t);function r(o,a){var i=n((o=fr(o)).r,(a=fr(a)).r),c=n(o.g,a.g),u=n(o.b,a.b),s=Va(o.opacity,a.opacity);return function(l){return o.r=i(l),o.g=c(l),o.b=u(l),o.opacity=s(l),o+""}}return r.gamma=e,r}(1);function tt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hr=new RegExp(vr.source,"g");function of(e){return function(){return e}}function af(e){return function(t){return e(t)+""}}function cf(e,t){var n=vr.lastIndex=hr.lastIndex=0,r,o,a,i=-1,c=[],u=[];for(e=e+"",t=t+"";(r=vr.exec(e))&&(o=hr.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),c[i]?c[i]+=a:c[++i]=a),(r=r[0])===(o=o[0])?c[i]?c[i]+=o:c[++i]=o:(c[++i]=null,u.push({i,x:tt(r,o)})),n=hr.lastIndex;return n<t.length&&(a=t.slice(n),c[i]?c[i]+=a:c[++i]=a),c.length<2?u[0]?af(u[0].x):of(t):(t=u.length,function(s){for(var l=0,d;l<t;++l)c[(d=u[l]).i]=d.x(s);return c.join("")})}var Ka=180/Math.PI,gr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Za(e,t,n,r,o,a){var i,c,u;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Ka,skewX:Math.atan(u)*Ka,scaleX:i,scaleY:c}}var hn;function uf(e){var t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gr:Za(t.a,t.b,t.c,t.d,t.e,t.f)}function sf(e){return e==null||(hn||(hn=document.createElementNS("http://www.w3.org/2000/svg","g")),hn.setAttribute("transform",e),!(e=hn.transform.baseVal.consolidate()))?gr:(e=e.matrix,Za(e.a,e.b,e.c,e.d,e.e,e.f))}function Ga(e,t,n,r){function o(s){return s.length?s.pop()+" ":""}function a(s,l,d,g,h,m){if(s!==d||l!==g){var _=h.push("translate(",null,t,null,n);m.push({i:_-4,x:tt(s,d)},{i:_-2,x:tt(l,g)})}else(d||g)&&h.push("translate("+d+t+g+n)}function i(s,l,d,g){s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),g.push({i:d.push(o(d)+"rotate(",null,r)-2,x:tt(s,l)})):l&&d.push(o(d)+"rotate("+l+r)}function c(s,l,d,g){s!==l?g.push({i:d.push(o(d)+"skewX(",null,r)-2,x:tt(s,l)}):l&&d.push(o(d)+"skewX("+l+r)}function u(s,l,d,g,h,m){if(s!==d||l!==g){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:tt(s,d)},{i:_-2,x:tt(l,g)})}else(d!==1||g!==1)&&h.push(o(h)+"scale("+d+","+g+")")}return function(s,l){var d=[],g=[];return s=e(s),l=e(l),a(s.translateX,s.translateY,l.translateX,l.translateY,d,g),i(s.rotate,l.rotate,d,g),c(s.skewX,l.skewX,d,g),u(s.scaleX,s.scaleY,l.scaleX,l.scaleY,d,g),s=l=null,function(h){for(var m=-1,_=g.length,N;++m<_;)d[(N=g[m]).i]=N.x(h);return d.join("")}}}var lf=Ga(uf,"px, ","px)","deg)"),ff=Ga(sf,", ",")",")"),df=1e-12;function qa(e){return((e=Math.exp(e))+1/e)/2}function pf(e){return((e=Math.exp(e))-1/e)/2}function vf(e){return((e=Math.exp(2*e))-1)/(e+1)}var hf=function e(t,n,r){function o(a,i){var c=a[0],u=a[1],s=a[2],l=i[0],d=i[1],g=i[2],h=l-c,m=d-u,_=h*h+m*m,N,C;if(_<df)C=Math.log(g/s)/t,N=function(I){return[c+I*h,u+I*m,s*Math.exp(t*I*C)]};else{var j=Math.sqrt(_),B=(g*g-s*s+r*_)/(2*s*n*j),A=(g*g-s*s-r*_)/(2*g*n*j),O=Math.log(Math.sqrt(B*B+1)-B),L=Math.log(Math.sqrt(A*A+1)-A);C=(L-O)/t,N=function(I){var U=I*C,F=qa(O),H=s/(n*j)*(F*vf(t*U+O)-pf(O));return[c+H*h,u+H*m,s*F/qa(t*U+O)]}}return N.duration=C*1e3*t/Math.SQRT2,N}return o.rho=function(a){var i=Math.max(.001,+a),c=i*i,u=c*c;return e(i,c,u)},o}(Math.SQRT2,2,4),yt=0,It=0,kt=0,Qa=1e3,gn,At,mn=0,ut=0,yn=0,Lt=typeof performance=="object"&&performance.now?performance:Date,Ja=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mr(){return ut||(Ja(gf),ut=Lt.now()+yn)}function gf(){ut=0}function bn(){this._call=this._time=this._next=null}bn.prototype=ei.prototype={constructor:bn,restart:function(t,n,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?mr():+r)+(n==null?0:+n),!this._next&&At!==this&&(At?At._next=this:gn=this,At=this),this._call=t,this._time=r,yr()},stop:function(){this._call&&(this._call=null,this._time=Infinity,yr())}};function ei(e,t,n){var r=new bn;return r.restart(e,t,n),r}function mf(){mr(),++yt;for(var e=gn,t;e;)(t=ut-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yt}function ti(){ut=(mn=Lt.now())+yn,yt=It=0;try{mf()}finally{yt=0,bf(),ut=0}}function yf(){var e=Lt.now(),t=e-mn;t>Qa&&(yn-=t,mn=e)}function bf(){for(var e,t=gn,n,r=Infinity;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:gn=n);At=e,yr(r)}function yr(e){if(!yt){It&&(It=clearTimeout(It));var t=e-ut;t>24?(e<Infinity&&(It=setTimeout(ti,e-Lt.now()-yn)),kt&&(kt=clearInterval(kt))):(kt||(mn=Lt.now(),kt=setInterval(yf,Qa)),yt=1,Ja(ti))}}function ni(e,t,n){var r=new bn;return t=t==null?0:+t,r.restart(function(o){r.stop(),e(o+t)},t,n),r}var Sf=or("start","end","cancel","interrupt"),wf=[],ri=0,oi=1,br=2,Sn=3,ai=4,Sr=5,wn=6;function En(e,t,n,r,o,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Ef(e,n,{name:t,index:r,group:o,on:Sf,tween:wf,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ri})}function wr(e,t){var n=Le(e,t);if(n.state>ri)throw new Error("too late; already scheduled");return n}function Xe(e,t){var n=Le(e,t);if(n.state>Sn)throw new Error("too late; already running");return n}function Le(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ef(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ei(a,0,n.time);function a(s){n.state=oi,n.timer.restart(i,n.delay,n.time),n.delay<=s&&i(s-n.delay)}function i(s){var l,d,g,h;if(n.state!==oi)return u();for(l in r)if(h=r[l],h.name===n.name){if(h.state===Sn)return ni(i);h.state===ai?(h.state=wn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=wn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(ni(function(){n.state===Sn&&(n.state=ai,n.timer.restart(c,n.delay,n.time),c(s))}),n.state=br,n.on.call("start",e,e.__data__,n.index,n.group),n.state===br){for(n.state=Sn,o=new Array(g=n.tween.length),l=0,d=-1;l<g;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function c(s){for(var l=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=Sr,1),d=-1,g=o.length;++d<g;)o[d].call(e,l);n.state===Sr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=wn,n.timer.stop(),delete r[t];for(var s in r)return;delete e.__transition}}function On(e,t){var n=e.__transition,r,o,a=!0,i;if(!!n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){a=!1;continue}o=r.state>br&&r.state<Sr,r.state=wn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}a&&delete e.__transition}}function Of(e){return this.each(function(){On(this,e)})}function _f(e,t){var n,r;return function(){var o=Xe(this,e),a=o.tween;if(a!==n){r=n=a;for(var i=0,c=r.length;i<c;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function xf(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=Xe(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var c={name:t,value:n},u=0,s=o.length;u<s;++u)if(o[u].name===t){o[u]=c;break}u===s&&o.push(c)}a.tween=o}}function Cf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Le(this.node(),n).tween,o=0,a=r.length,i;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?_f:xf)(n,e,t))}function Er(e,t,n){var r=e._id;return e.each(function(){var o=Xe(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Le(o,r).value[t]}}function ii(e,t){var n;return(typeof t=="number"?tt:t instanceof Rt?Wa:(n=Rt(t))?(t=n,Wa):cf)(e,t)}function Mf(e){return function(){this.removeAttribute(e)}}function Pf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nf(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function Tf(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function Df(e,t,n){var r,o,a;return function(){var i,c=n(this),u;return c==null?void this.removeAttribute(e):(i=this.getAttribute(e),u=c+"",i===u?null:i===r&&u===o?a:(o=u,a=t(r=i,c)))}}function jf(e,t,n){var r,o,a;return function(){var i,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),u=c+"",i===u?null:i===r&&u===o?a:(o=u,a=t(r=i,c)))}}function Rf(e,t){var n=fn(e),r=n==="transform"?ff:ii;return this.attrTween(e,typeof t=="function"?(n.local?jf:Df)(n,r,Er(this,"attr."+e,t)):t==null?(n.local?Pf:Mf)(n):(n.local?Tf:Nf)(n,r,t))}function If(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Af(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&kf(e,a)),n}return o._value=t,o}function Lf(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&If(e,a)),n}return o._value=t,o}function Bf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fn(e);return this.tween(n,(r.local?Af:Lf)(r,t))}function zf(e,t){return function(){wr(this,e).delay=+t.apply(this,arguments)}}function $f(e,t){return t=+t,function(){wr(this,e).delay=t}}function Hf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zf:$f)(t,e)):Le(this.node(),t).delay}function Uf(e,t){return function(){Xe(this,e).duration=+t.apply(this,arguments)}}function Xf(e,t){return t=+t,function(){Xe(this,e).duration=t}}function Yf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uf:Xf)(t,e)):Le(this.node(),t).duration}function Ff(e,t){if(typeof t!="function")throw new Error;return function(){Xe(this,e).ease=t}}function Vf(e){var t=this._id;return arguments.length?this.each(Ff(t,e)):Le(this.node(),t).ease}function Wf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Xe(this,e).ease=n}}function Kf(e){if(typeof e!="function")throw new Error;return this.each(Wf(this._id,e))}function Zf(e){typeof e!="function"&&(e=xa(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,c=r[o]=[],u,s=0;s<i;++s)(u=a[s])&&e.call(u,u.__data__,s,a)&&c.push(u);return new We(r,this._parents,this._name,this._id)}function Gf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),c=0;c<a;++c)for(var u=t[c],s=n[c],l=u.length,d=i[c]=new Array(l),g,h=0;h<l;++h)(g=u[h]||s[h])&&(d[h]=g);for(;c<r;++c)i[c]=t[c];return new We(i,this._parents,this._name,this._id)}function qf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Qf(e,t,n){var r,o,a=qf(t)?wr:Xe;return function(){var i=a(this,e),c=i.on;c!==r&&(o=(r=c).copy()).on(t,n),i.on=o}}function Jf(e,t){var n=this._id;return arguments.length<2?Le(this.node(),n).on.on(e):this.each(Qf(n,e,t))}function ed(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function td(){return this.on("end.remove",ed(this._id))}function nd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ir(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var c=r[i],u=c.length,s=a[i]=new Array(u),l,d,g=0;g<u;++g)(l=c[g])&&(d=e.call(l,l.__data__,g,c))&&("__data__"in l&&(d.__data__=l.__data__),s[g]=d,En(s[g],t,n,g,s,Le(l,n)));return new We(a,this._parents,t,n)}function rd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_a(e));for(var r=this._groups,o=r.length,a=[],i=[],c=0;c<o;++c)for(var u=r[c],s=u.length,l,d=0;d<s;++d)if(l=u[d]){for(var g=e.call(l,l.__data__,d,u),h,m=Le(l,n),_=0,N=g.length;_<N;++_)(h=g[_])&&En(h,t,n,_,g,m);a.push(g),i.push(l)}return new We(a,i,t,n)}var od=Nt.prototype.constructor;function ad(){return new od(this._groups,this._parents)}function id(e,t){var n,r,o;return function(){var a=gt(this,e),i=(this.style.removeProperty(e),gt(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}function ci(e){return function(){this.style.removeProperty(e)}}function cd(e,t,n){var r,o=n+"",a;return function(){var i=gt(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}function ud(e,t,n){var r,o,a;return function(){var i=gt(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),gt(this,e))),i===u?null:i===r&&u===o?a:(o=u,a=t(r=i,c))}}function sd(e,t){var n,r,o,a="style."+t,i="end."+a,c;return function(){var u=Xe(this,e),s=u.on,l=u.value[a]==null?c||(c=ci(t)):void 0;(s!==n||o!==l)&&(r=(n=s).copy()).on(i,o=l),u.on=r}}function ld(e,t,n){var r=(e+="")==="transform"?lf:ii;return t==null?this.styleTween(e,id(e,r)).on("end.style."+e,ci(e)):typeof t=="function"?this.styleTween(e,ud(e,r,Er(this,"style."+e,t))).each(sd(this._id,e)):this.styleTween(e,cd(e,r,t),n).on("end.style."+e,null)}function fd(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function dd(e,t,n){var r,o;function a(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&fd(e,i,n)),r}return a._value=t,a}function pd(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,dd(e,t,n==null?"":n))}function vd(e){return function(){this.textContent=e}}function hd(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function gd(e){return this.tween("text",typeof e=="function"?hd(Er(this,"text",e)):vd(e==null?"":e+""))}function md(e){return function(t){this.textContent=e.call(this,t)}}function yd(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&md(o)),t}return r._value=e,r}function bd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yd(e))}function Sd(){for(var e=this._name,t=this._id,n=ui(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],c=i.length,u,s=0;s<c;++s)if(u=i[s]){var l=Le(u,t);En(u,e,n,s,i,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new We(r,this._parents,e,n)}function wd(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,i){var c={value:i},u={value:function(){--o==0&&a()}};n.each(function(){var s=Xe(this,r),l=s.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),s.on=t}),o===0&&a()})}var Ed=0;function We(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ui(){return++Ed}var Ke=Nt.prototype;We.prototype=Object(Wt.a)({constructor:We,select:nd,selectAll:rd,selectChild:Ke.selectChild,selectChildren:Ke.selectChildren,filter:Zf,merge:Gf,selection:ad,transition:Sd,call:Ke.call,nodes:Ke.nodes,node:Ke.node,size:Ke.size,empty:Ke.empty,each:Ke.each,on:Jf,attr:Rf,attrTween:Bf,style:ld,styleTween:pd,text:gd,textTween:bd,remove:td,tween:Cf,delay:Hf,duration:Yf,ease:Vf,easeVarying:Kf,end:wd},Symbol.iterator,Ke[Symbol.iterator]);function Od(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _d={time:null,delay:0,duration:250,ease:Od};function xd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function Cd(e){var t,n;e instanceof We?(t=e._id,e=e._name):(t=ui(),(n=_d).time=mr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],c=i.length,u,s=0;s<c;++s)(u=i[s])&&En(u,e,t,s,i,n||xd(u,t));return new We(r,this._parents,e,t)}Nt.prototype.interrupt=Of,Nt.prototype.transition=Cd;var _n=function(t){return function(){return t}};function Md(e,t){var n=t.sourceEvent,r=t.target,o=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function nt(e,t,n){this.k=e,this.x=t,this.y=n}nt.prototype={constructor:nt,scale:function(t){return t===1?this:new nt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new nt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var st=new nt(1,0,0);function Or(e){e.stopImmediatePropagation()}function Bt(e){e.preventDefault(),e.stopImmediatePropagation()}function Pd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Nd(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function si(){return this.__zoom||st}function Td(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Dd(){return navigator.maxTouchPoints||"ontouchstart"in this}function jd(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function Rd(){var e=Pd,t=Nd,n=jd,r=Td,o=Dd,a=[0,Infinity],i=[[-Infinity,-Infinity],[Infinity,Infinity]],c=250,u=hf,s=or("start","zoom","end"),l,d,g,h=500,m=150,_=0,N=10;function C(f){f.property("__zoom",si).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(f,x,M,w){var E=f.selection?f.selection():f;E.property("__zoom",si),f!==E?O(f,x,M,w):E.interrupt().each(function(){L(this,arguments).event(w).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},C.scaleBy=function(f,x,M,w){C.scaleTo(f,function(){var E=this.__zoom.k,T=typeof x=="function"?x.apply(this,arguments):x;return E*T},M,w)},C.scaleTo=function(f,x,M,w){C.transform(f,function(){var E=t.apply(this,arguments),T=this.__zoom,k=M==null?A(E):typeof M=="function"?M.apply(this,arguments):M,v=T.invert(k),y=typeof x=="function"?x.apply(this,arguments):x;return n(B(j(T,y),k,v),E,i)},M,w)},C.translateBy=function(f,x,M,w){C.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),i)},null,w)},C.translateTo=function(f,x,M,w,E){C.transform(f,function(){var T=t.apply(this,arguments),k=this.__zoom,v=w==null?A(T):typeof w=="function"?w.apply(this,arguments):w;return n(st.translate(v[0],v[1]).scale(k.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof M=="function"?-M.apply(this,arguments):-M),T,i)},w,E)};function j(f,x){return x=Math.max(a[0],Math.min(a[1],x)),x===f.k?f:new nt(x,f.x,f.y)}function B(f,x,M){var w=x[0]-M[0]*f.k,E=x[1]-M[1]*f.k;return w===f.x&&E===f.y?f:new nt(f.k,w,E)}function A(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function O(f,x,M,w){f.on("start.zoom",function(){L(this,arguments).event(w).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(w).end()}).tween("zoom",function(){var E=this,T=arguments,k=L(E,T).event(w),v=t.apply(E,T),y=M==null?A(v):typeof M=="function"?M.apply(E,T):M,p=Math.max(v[1][0]-v[0][0],v[1][1]-v[0][1]),b=E.__zoom,R=typeof x=="function"?x.apply(E,T):x,z=u(b.invert(y).concat(p/b.k),R.invert(y).concat(p/R.k));return function(V){if(V===1)V=R;else{var K=z(V),X=p/K[2];V=new nt(X,y[0]-K[0]*X,y[1]-K[1]*X)}k.zoom(null,V)}})}function L(f,x,M){return!M&&f.__zooming||new $(f,x)}function $(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,x),this.taps=0}$.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,M){return this.mouse&&x!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var M=Je(this.that).datum();s.call(x,this.that,new Md(x,{sourceEvent:this.sourceEvent,target:C,type:x,transform:this.that.__zoom,dispatch:s}),M)}};function I(f){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];if(!e.apply(this,arguments))return;var E=L(this,M).event(f),T=this.__zoom,k=Math.max(a[0],Math.min(a[1],T.k*Math.pow(2,r.apply(this,arguments)))),v=et(f);if(E.wheel)(E.mouse[0][0]!==v[0]||E.mouse[0][1]!==v[1])&&(E.mouse[1]=T.invert(E.mouse[0]=v)),clearTimeout(E.wheel);else{if(T.k===k)return;E.mouse=[v,T.invert(v)],On(this),E.start()}Bt(f),E.wheel=setTimeout(y,m),E.zoom("mouse",n(B(j(T,k),E.mouse[0],E.mouse[1]),E.extent,i));function y(){E.wheel=null,E.end()}}function U(f){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];if(g||!e.apply(this,arguments))return;var E=f.currentTarget,T=L(this,M,!0).event(f),k=Je(f.view).on("mousemove.zoom",b,!0).on("mouseup.zoom",R,!0),v=et(f,E),y=f.clientX,p=f.clientY;Xl(f.view),Or(f),T.mouse=[v,this.__zoom.invert(v)],On(this),T.start();function b(z){if(Bt(z),!T.moved){var V=z.clientX-y,K=z.clientY-p;T.moved=V*V+K*K>_}T.event(z).zoom("mouse",n(B(T.that.__zoom,T.mouse[0]=et(z,E),T.mouse[1]),T.extent,i))}function R(z){k.on("mousemove.zoom mouseup.zoom",null),Yl(z.view,T.moved),Bt(z),T.event(z).end()}}function F(f){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];if(!!e.apply(this,arguments)){var E=this.__zoom,T=et(f.changedTouches?f.changedTouches[0]:f,this),k=E.invert(T),v=E.k*(f.shiftKey?.5:2),y=n(B(j(E,v),T,k),t.apply(this,M),i);Bt(f),c>0?Je(this).transition().duration(c).call(O,y,T,f):Je(this).call(C.transform,y,T,f)}}function H(f){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];if(!!e.apply(this,arguments)){var E=f.touches,T=E.length,k=L(this,M,f.changedTouches.length===T).event(f),v,y,p,b;for(Or(f),y=0;y<T;++y)p=E[y],b=et(p,this),b=[b,this.__zoom.invert(b),p.identifier],k.touch0?!k.touch1&&k.touch0[2]!==b[2]&&(k.touch1=b,k.taps=0):(k.touch0=b,v=!0,k.taps=1+!!l);l&&(l=clearTimeout(l)),v&&(k.taps<2&&(d=b[0],l=setTimeout(function(){l=null},h)),On(this),k.start())}}function Y(f){if(!!this.__zooming){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];var E=L(this,M).event(f),T=f.changedTouches,k=T.length,v,y,p,b;for(Bt(f),v=0;v<k;++v)y=T[v],p=et(y,this),E.touch0&&E.touch0[2]===y.identifier?E.touch0[0]=p:E.touch1&&E.touch1[2]===y.identifier&&(E.touch1[0]=p);if(y=E.that.__zoom,E.touch1){var R=E.touch0[0],z=E.touch0[1],V=E.touch1[0],K=E.touch1[1],X=(X=V[0]-R[0])*X+(X=V[1]-R[1])*X,oe=(oe=K[0]-z[0])*oe+(oe=K[1]-z[1])*oe;y=j(y,Math.sqrt(X/oe)),p=[(R[0]+V[0])/2,(R[1]+V[1])/2],b=[(z[0]+K[0])/2,(z[1]+K[1])/2]}else if(E.touch0)p=E.touch0[0],b=E.touch0[1];else return;E.zoom("touch",n(B(y,p,b),E.extent,i))}}function P(f){for(var x=arguments.length,M=new Array(x>1?x-1:0),w=1;w<x;w++)M[w-1]=arguments[w];if(!!this.__zooming){var E=L(this,M).event(f),T=f.changedTouches,k=T.length,v,y;for(Or(f),g&&clearTimeout(g),g=setTimeout(function(){g=null},h),v=0;v<k;++v)y=T[v],E.touch0&&E.touch0[2]===y.identifier?delete E.touch0:E.touch1&&E.touch1[2]===y.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(y=et(y,this),Math.hypot(d[0]-y[0],d[1]-y[1])<N)){var p=Je(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return C.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:_n(+f),C):r},C.filter=function(f){return arguments.length?(e=typeof f=="function"?f:_n(!!f),C):e},C.touchable=function(f){return arguments.length?(o=typeof f=="function"?f:_n(!!f),C):o},C.extent=function(f){return arguments.length?(t=typeof f=="function"?f:_n([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),C):t},C.scaleExtent=function(f){return arguments.length?(a[0]=+f[0],a[1]=+f[1],C):[a[0],a[1]]},C.translateExtent=function(f){return arguments.length?(i[0][0]=+f[0][0],i[1][0]=+f[1][0],i[0][1]=+f[0][1],i[1][1]=+f[1][1],C):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},C.constrain=function(f){return arguments.length?(n=f,C):n},C.duration=function(f){return arguments.length?(c=+f,C):c},C.interpolate=function(f){return arguments.length?(u=f,C):u},C.on=function(){var f=s.on.apply(s,arguments);return f===s?C:f},C.clickDistance=function(f){return arguments.length?(_=(f=+f)*f,C):Math.sqrt(_)},C.tapDistance=function(f){return arguments.length?(N=+f,C):N},C}var Id=function(t){var n=G(function(r){return r.updateSize});Object(S.useEffect)(function(){var r,o=function(){if(!!t.current){var i=nr(t.current);(i.height===0||i.width===0)&&console.warn("The React Flow parent container needs a width and a height to render the graph."),n(i)}};return o(),window.onresize=o,t.current&&(r=new ResizeObserver(function(){return o()}),r.observe(t.current)),function(){window.onresize=null,r&&t.current&&r.unobserve(t.current)}},[])},Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));var li;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(li||(li={}));var bt;(function(e){e.Lines="lines",e.Dots="dots"})(bt||(bt={}));var St;(function(e){e.Strict="strict",e.Loose="loose"})(St||(St={}));var lt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"})(lt||(lt={}));var wt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(wt||(wt={}));var fi=function(t,n){return t.x!==n.x||t.y!==n.y||t.zoom!==n.k},_r=function(t){return{x:t.x,y:t.y,zoom:t.k}},xr=function(t){return t.target.closest(".nowheel")},kd=function(t){var n=t.onMove,r=t.onMoveStart,o=t.onMoveEnd,a=t.zoomOnScroll,i=a===void 0?!0:a,c=t.zoomOnPinch,u=c===void 0?!0:c,s=t.panOnScroll,l=s===void 0?!1:s,d=t.panOnScrollSpeed,g=d===void 0?.5:d,h=t.panOnScrollMode,m=h===void 0?wt.Free:h,_=t.zoomOnDoubleClick,N=_===void 0?!0:_,C=t.selectionKeyPressed,j=t.elementsSelectable,B=t.paneMoveable,A=B===void 0?!0:B,O=t.defaultPosition,L=O===void 0?[0,0]:O,$=t.defaultZoom,I=$===void 0?1:$,U=t.translateExtent,F=t.zoomActivationKeyCode,H=t.preventScrolling,Y=H===void 0?!0:H,P=t.children,f=Object(S.useRef)(null),x=Object(S.useRef)({x:0,y:0,zoom:0}),M=un(),w=Z(function(p){return p.d3Zoom}),E=Z(function(p){return p.d3Selection}),T=Z(function(p){return p.d3ZoomHandler}),k=G(function(p){return p.initD3Zoom}),v=G(function(p){return p.updateTransform}),y=sn(F);return Id(f),Object(S.useEffect)(function(){if(f.current){var p=M.getState(),b=typeof U!="undefined"?U:p.translateExtent,R=Rd().scaleExtent([p.minZoom,p.maxZoom]).translateExtent(b),z=Je(f.current).call(R),V=vt(L[0],b[0][0],b[1][0]),K=vt(L[1],b[0][1],b[1][1]),X=vt(I,p.minZoom,p.maxZoom),oe=st.translate(V,K).scale(X);R.transform(z,oe),k({d3Zoom:R,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[V,K,X]})}},[]),Object(S.useEffect)(function(){E&&w&&(l&&!y?E.on("wheel",function(p){if(xr(p))return!1;p.preventDefault(),p.stopImmediatePropagation();var b=E.property("__zoom").k||1;if(p.ctrlKey&&u){var R=et(p),z=-p.deltaY*(p.deltaMode===1?.05:p.deltaMode?1:.002)*10,V=b*Math.pow(2,z);w.scaleTo(E,V,R);return}var K=p.deltaMode===1?20:1,X=m===wt.Vertical?0:p.deltaX*K,oe=m===wt.Horizontal?0:p.deltaY*K;w.translateBy(E,-(X/b)*g,-(oe/b)*g)}).on("wheel.zoom",null):typeof T!="undefined"&&E.on("wheel",function(p){if(!Y||xr(p))return null;p.preventDefault()}).on("wheel.zoom",T))},[l,m,E,w,T,y,u,Y]),Object(S.useEffect)(function(){w&&(C?w.on("zoom",null):w.on("zoom",function(p){if(v([p.transform.x,p.transform.y,p.transform.k]),n){var b=_r(p.transform);n(b)}}))},[C,w,v,n]),Object(S.useEffect)(function(){w&&(r?w.on("start",function(p){if(fi(x.current,p.transform)){var b=_r(p.transform);x.current=b,r(b)}}):w.on("start",null))},[w,r]),Object(S.useEffect)(function(){w&&(o?w.on("end",function(p){if(fi(x.current,p.transform)){var b=_r(p.transform);x.current=b,o(b)}}):w.on("end",null))},[w,o]),Object(S.useEffect)(function(){w&&w.filter(function(p){var b=y||i,R=u&&p.ctrlKey;return!A&&!b&&!l&&!N&&!u||C||!N&&p.type==="dblclick"||xr(p)&&p.type==="wheel"||(p.target.closest(".react-flow__node")||p.target.closest(".react-flow__edge"))&&p.type!=="wheel"||p.target.closest(".react-flow__nodesselection")&&p.type!=="wheel"||!u&&p.ctrlKey&&p.type==="wheel"||!b&&!l&&!R&&p.type==="wheel"||!A&&(p.type==="mousedown"||p.type==="touchstart")?!1:(!p.ctrlKey||p.type==="wheel")&&!p.button})},[w,i,u,l,N,A,C,j,y]),D.a.createElement("div",{className:"react-flow__renderer react-flow__zoompane",ref:f},P)};function di(e){var t=e.target.closest(".react-flow");if(!!t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}var Ad=function(){var t=Z(function(n){return n.userSelectionRect});return t.draw?D.a.createElement("div",{className:"react-flow__selection",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null},Ld=Object(S.memo)(function(e){var t=e.selectionKeyPressed,n=Z(function(h){return h.selectionActive}),r=Z(function(h){return h.elementsSelectable}),o=G(function(h){return h.setUserSelection}),a=G(function(h){return h.updateUserSelection}),i=G(function(h){return h.unsetUserSelection}),c=G(function(h){return h.unsetNodesSelection}),u=n||t;if(!r||!u)return null;var s=function(m){var _=di(m);!_||o(_)},l=function(m){if(!(!t||!n)){var _=di(m);!_||a(_)}},d=function(){return i()},g=function(){i(),c()};return D.a.createElement("div",{className:"react-flow__selectionpane",onMouseDown:s,onMouseMove:l,onMouseUp:d,onMouseLeave:g},D.a.createElement(Ad,null))}),xn={exports:{}},pi={},vi={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var a=arguments[o];if(!!a){var i=typeof a;if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var c=n.apply(null,a);c&&r.push(c)}}else if(i==="object")if(a.toString===Object.prototype.toString)for(var u in a)t.call(a,u)&&a[u]&&r.push(u);else r.push(a.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(vi);var ce={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.findInArray=Bd,Ye.isFunction=zd,Ye.isNum=$d,Ye.int=Hd,Ye.dontSetMe=Ud;function Bd(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function zd(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function $d(e){return typeof e=="number"&&!isNaN(e)}function Hd(e){return parseInt(e,10)}function Ud(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.getPrefix=hi,ft.browserPrefixToKey=gi,ft.browserPrefixToStyle=Xd,ft.default=void 0;var Cr=["Moz","Webkit","O","ms"];function hi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined"||typeof window.document=="undefined")return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<Cr.length;n++)if(gi(e,Cr[n])in t)return Cr[n];return""}function gi(e,t){return t?"".concat(t).concat(Yd(e)):e}function Xd(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Yd(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var Fd=hi();ft.default=Fd;function Cn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cn=function(n){return typeof n}:Cn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cn(e)}Object.defineProperty(ce,"__esModule",{value:!0}),ce.matchesSelector=Ei,ce.matchesSelectorAndParentsTo=Wd,ce.addEvent=Kd,ce.removeEvent=Zd,ce.outerHeight=Gd,ce.outerWidth=qd,ce.innerHeight=Qd,ce.innerWidth=Jd,ce.offsetXYFromParent=ep,ce.createCSSTransform=tp,ce.createSVGTransform=np,ce.getTranslation=Mr,ce.getTouch=rp,ce.getTouchIdentifier=op,ce.addUserSelectStyles=ap,ce.removeUserSelectStyles=ip,ce.addClassName=Oi,ce.removeClassName=_i;var xe=Ye,mi=Vd(ft);function yi(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return yi=function(){return e},e}function Vd(e){if(e&&e.__esModule)return e;if(e===null||Cn(e)!=="object"&&typeof e!="function")return{default:e};var t=yi();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(r){wi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn="";function Ei(e,t){return Mn||(Mn=(0,xe.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,xe.isFunction)(e[n])})),(0,xe.isFunction)(e[Mn])?e[Mn](t):!1}function Wd(e,t,n){var r=e;do{if(Ei(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Kd(e,t,n,r){if(!!e){var o=Si({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function Zd(e,t,n,r){if(!!e){var o=Si({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function Gd(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,xe.int)(n.borderTopWidth),t+=(0,xe.int)(n.borderBottomWidth),t}function qd(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,xe.int)(n.borderLeftWidth),t+=(0,xe.int)(n.borderRightWidth),t}function Qd(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,xe.int)(n.paddingTop),t-=(0,xe.int)(n.paddingBottom),t}function Jd(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,xe.int)(n.paddingLeft),t-=(0,xe.int)(n.paddingRight),t}function ep(e,t,n){var r=t===t.ownerDocument.body,o=r?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-o.left)/n,i=(e.clientY+t.scrollTop-o.top)/n;return{x:a,y:i}}function tp(e,t){var n=Mr(e,t,"px");return wi({},(0,mi.browserPrefixToKey)("transform",mi.default),n)}function np(e,t){var n=Mr(e,t,"");return n}function Mr(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(i,", ").concat(c,")")+a}return a}function rp(e,t){return e.targetTouches&&(0,xe.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,xe.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function op(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function ap(e){if(!!e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Oi(e.body,"react-draggable-transparent-selection")}}function ip(e){if(!!e)try{if(e.body&&_i(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch(n){}}function Oi(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function _i(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.getBoundPosition=cp,Fe.snapToGrid=up,Fe.canDragX=sp,Fe.canDragY=lp,Fe.getControlPosition=fp,Fe.createCoreData=dp,Fe.createDraggableData=pp;var Ce=Ye,Et=ce;function cp(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:vp(r);var o=Pr(e);if(typeof r=="string"){var a=o.ownerDocument,i=a.defaultView,c;if(r==="parent"?c=o.parentNode:c=a.querySelector(r),!(c instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=i.getComputedStyle(o),s=i.getComputedStyle(c);r={left:-o.offsetLeft+(0,Ce.int)(s.paddingLeft)+(0,Ce.int)(u.marginLeft),top:-o.offsetTop+(0,Ce.int)(s.paddingTop)+(0,Ce.int)(u.marginTop),right:(0,Et.innerWidth)(c)-(0,Et.outerWidth)(o)-o.offsetLeft+(0,Ce.int)(s.paddingRight)-(0,Ce.int)(u.marginRight),bottom:(0,Et.innerHeight)(c)-(0,Et.outerHeight)(o)-o.offsetTop+(0,Ce.int)(s.paddingBottom)-(0,Ce.int)(u.marginBottom)}}return(0,Ce.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ce.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ce.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ce.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function up(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function sp(e){return e.props.axis==="both"||e.props.axis==="x"}function lp(e){return e.props.axis==="both"||e.props.axis==="y"}function fp(e,t,n){var r=typeof t=="number"?(0,Et.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var o=Pr(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Et.offsetXYFromParent)(r||e,a,n.props.scale)}function dp(e,t,n){var r=e.state,o=!(0,Ce.isNum)(r.lastX),a=Pr(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function pp(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function vp(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Pr(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Pn={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=hp;function hp(){}Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.default=void 0;var Nr=mp(D.a),Me=Dr(Zt.exports),gp=Dr(Pt.a),he=ce,dt=Fe,Tr=Ye,zt=Dr(Nn);function Dr(e){return e&&e.__esModule?e:{default:e}}function xi(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return xi=function(){return e},e}function mp(e){if(e&&e.__esModule)return e;if(e===null||$t(e)!=="object"&&typeof e!="function")return{default:e};var t=xi();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function $t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$t=function(n){return typeof n}:$t=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$t(e)}function yp(e,t){return Ep(e)||wp(e,t)||Sp(e,t)||bp()}function bp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sp(e,t){if(!!e){if(typeof e=="string")return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ci(e,t)}}function Ci(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,a=void 0;try{for(var i=e[Symbol.iterator](),c;!(r=(c=i.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(u){o=!0,a=u}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw a}}return n}}function Ep(e){if(Array.isArray(e))return e}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _p(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),e}function xp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}function jr(e,t){return jr=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},jr(e,t)}function Cp(e){var t=Pp();return function(){var n=Tn(e),r;if(t){var o=Tn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mp(this,r)}}function Mp(e,t){return t&&($t(t)==="object"||typeof t=="function")?t:ge(e)}function ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tn(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},rt=Be.mouse,Dn=function(e){xp(n,e);var t=Cp(n);function n(){var r;Op(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=t.call.apply(t,[this].concat(a)),je(ge(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),je(ge(r),"mounted",!1),je(ge(r),"handleDragStart",function(c){if(r.props.onMouseDown(c),!r.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;var u=r.findDOMNode();if(!u||!u.ownerDocument||!u.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var s=u.ownerDocument;if(!(r.props.disabled||!(c.target instanceof s.defaultView.Node)||r.props.handle&&!(0,he.matchesSelectorAndParentsTo)(c.target,r.props.handle,u)||r.props.cancel&&(0,he.matchesSelectorAndParentsTo)(c.target,r.props.cancel,u))){c.type==="touchstart"&&c.preventDefault();var l=(0,he.getTouchIdentifier)(c);r.setState({touchIdentifier:l});var d=(0,dt.getControlPosition)(c,l,ge(r));if(d!=null){var g=d.x,h=d.y,m=(0,dt.createCoreData)(ge(r),g,h);(0,zt.default)("DraggableCore: handleDragStart: %j",m),(0,zt.default)("calling",r.props.onStart);var _=r.props.onStart(c,m);_===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,he.addUserSelectStyles)(s),r.setState({dragging:!0,lastX:g,lastY:h}),(0,he.addEvent)(s,rt.move,r.handleDrag),(0,he.addEvent)(s,rt.stop,r.handleDragStop))}}}),je(ge(r),"handleDrag",function(c){var u=(0,dt.getControlPosition)(c,r.state.touchIdentifier,ge(r));if(u!=null){var s=u.x,l=u.y;if(Array.isArray(r.props.grid)){var d=s-r.state.lastX,g=l-r.state.lastY,h=(0,dt.snapToGrid)(r.props.grid,d,g),m=yp(h,2);if(d=m[0],g=m[1],!d&&!g)return;s=r.state.lastX+d,l=r.state.lastY+g}var _=(0,dt.createCoreData)(ge(r),s,l);(0,zt.default)("DraggableCore: handleDrag: %j",_);var N=r.props.onDrag(c,_);if(N===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch(j){var C=document.createEvent("MouseEvents");C.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(C)}return}r.setState({lastX:s,lastY:l})}}),je(ge(r),"handleDragStop",function(c){if(!!r.state.dragging){var u=(0,dt.getControlPosition)(c,r.state.touchIdentifier,ge(r));if(u!=null){var s=u.x,l=u.y,d=(0,dt.createCoreData)(ge(r),s,l),g=r.props.onStop(c,d);if(g===!1||r.mounted===!1)return!1;var h=r.findDOMNode();h&&r.props.enableUserSelectHack&&(0,he.removeUserSelectStyles)(h.ownerDocument),(0,zt.default)("DraggableCore: handleDragStop: %j",d),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),h&&((0,zt.default)("DraggableCore: Removing handlers"),(0,he.removeEvent)(h.ownerDocument,rt.move,r.handleDrag),(0,he.removeEvent)(h.ownerDocument,rt.stop,r.handleDragStop))}}}),je(ge(r),"onMouseDown",function(c){return rt=Be.mouse,r.handleDragStart(c)}),je(ge(r),"onMouseUp",function(c){return rt=Be.mouse,r.handleDragStop(c)}),je(ge(r),"onTouchStart",function(c){return rt=Be.touch,r.handleDragStart(c)}),je(ge(r),"onTouchEnd",function(c){return rt=Be.touch,r.handleDragStop(c)}),r}return _p(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var o=this.findDOMNode();o&&(0,he.addEvent)(o,Be.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.findDOMNode();if(o){var a=o.ownerDocument;(0,he.removeEvent)(a,Be.mouse.move,this.handleDrag),(0,he.removeEvent)(a,Be.touch.move,this.handleDrag),(0,he.removeEvent)(a,Be.mouse.stop,this.handleDragStop),(0,he.removeEvent)(a,Be.touch.stop,this.handleDragStop),(0,he.removeEvent)(o,Be.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,he.removeUserSelectStyles)(a)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:gp.default.findDOMNode(this)}},{key:"render",value:function(){return Nr.cloneElement(Nr.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(Nr.Component);Pn.default=Dn,je(Dn,"displayName","DraggableCore"),je(Dn,"propTypes",{allowAnyClick:Me.default.bool,disabled:Me.default.bool,enableUserSelectHack:Me.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Me.default.arrayOf(Me.default.number),handle:Me.default.string,cancel:Me.default.string,nodeRef:Me.default.object,onStart:Me.default.func,onDrag:Me.default.func,onStop:Me.default.func,onMouseDown:Me.default.func,scale:Me.default.number,className:Tr.dontSetMe,style:Tr.dontSetMe,transform:Tr.dontSetMe}),je(Dn,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=g(D.a),n=l(Zt.exports),r=l(Pt.a),o=l(vi.exports),a=ce,i=Fe,c=Ye,u=l(Pn),s=l(Nn);function l(v){return v&&v.__esModule?v:{default:v}}function d(){if(typeof WeakMap!="function")return null;var v=new WeakMap;return d=function(){return v},v}function g(v){if(v&&v.__esModule)return v;if(v===null||h(v)!=="object"&&typeof v!="function")return{default:v};var y=d();if(y&&y.has(v))return y.get(v);var p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in v)if(Object.prototype.hasOwnProperty.call(v,R)){var z=b?Object.getOwnPropertyDescriptor(v,R):null;z&&(z.get||z.set)?Object.defineProperty(p,R,z):p[R]=v[R]}return p.default=v,y&&y.set(v,p),p}function h(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(p){return typeof p}:h=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},h(v)}function m(){return m=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var p=arguments[y];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(v[b]=p[b])}return v},m.apply(this,arguments)}function _(v,y){if(v==null)return{};var p=N(v,y),b,R;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(v);for(R=0;R<z.length;R++)b=z[R],!(y.indexOf(b)>=0)&&(!Object.prototype.propertyIsEnumerable.call(v,b)||(p[b]=v[b]))}return p}function N(v,y){if(v==null)return{};var p={},b=Object.keys(v),R,z;for(z=0;z<b.length;z++)R=b[z],!(y.indexOf(R)>=0)&&(p[R]=v[R]);return p}function C(v,y){return L(v)||O(v,y)||B(v,y)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(v,y){if(!!v){if(typeof v=="string")return A(v,y);var p=Object.prototype.toString.call(v).slice(8,-1);if(p==="Object"&&v.constructor&&(p=v.constructor.name),p==="Map"||p==="Set")return Array.from(v);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return A(v,y)}}function A(v,y){(y==null||y>v.length)&&(y=v.length);for(var p=0,b=new Array(y);p<y;p++)b[p]=v[p];return b}function O(v,y){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(v)))){var p=[],b=!0,R=!1,z=void 0;try{for(var V=v[Symbol.iterator](),K;!(b=(K=V.next()).done)&&(p.push(K.value),!(y&&p.length===y));b=!0);}catch(X){R=!0,z=X}finally{try{!b&&V.return!=null&&V.return()}finally{if(R)throw z}}return p}}function L(v){if(Array.isArray(v))return v}function $(v,y){var p=Object.keys(v);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(v);y&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(v,R).enumerable})),p.push.apply(p,b)}return p}function I(v){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?$(Object(p),!0).forEach(function(b){T(v,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(p)):$(Object(p)).forEach(function(b){Object.defineProperty(v,b,Object.getOwnPropertyDescriptor(p,b))})}return v}function U(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function F(v,y){for(var p=0;p<y.length;p++){var b=y[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function H(v,y,p){return y&&F(v.prototype,y),p&&F(v,p),v}function Y(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),y&&P(v,y)}function P(v,y){return P=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b},P(v,y)}function f(v){var y=w();return function(){var p=E(v),b;if(y){var R=E(this).constructor;b=Reflect.construct(p,arguments,R)}else b=p.apply(this,arguments);return x(this,b)}}function x(v,y){return y&&(h(y)==="object"||typeof y=="function")?y:M(v)}function M(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}function E(v){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},E(v)}function T(v,y,p){return y in v?Object.defineProperty(v,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):v[y]=p,v}var k=function(v){Y(p,v);var y=f(p);H(p,null,[{key:"getDerivedStateFromProps",value:function(R,z){var V=R.position,K=z.prevPropsPosition;return V&&(!K||V.x!==K.x||V.y!==K.y)?((0,s.default)("Draggable: getDerivedStateFromProps %j",{position:V,prevPropsPosition:K}),{x:V.x,y:V.y,prevPropsPosition:I({},V)}):null}}]);function p(b){var R;return U(this,p),R=y.call(this,b),T(M(R),"onDragStart",function(z,V){(0,s.default)("Draggable: onDragStart: %j",V);var K=R.props.onStart(z,(0,i.createDraggableData)(M(R),V));if(K===!1)return!1;R.setState({dragging:!0,dragged:!0})}),T(M(R),"onDrag",function(z,V){if(!R.state.dragging)return!1;(0,s.default)("Draggable: onDrag: %j",V);var K=(0,i.createDraggableData)(M(R),V),X={x:K.x,y:K.y};if(R.props.bounds){var oe=X.x,me=X.y;X.x+=R.state.slackX,X.y+=R.state.slackY;var ue=(0,i.getBoundPosition)(M(R),X.x,X.y),pe=C(ue,2),Se=pe[0],ve=pe[1];X.x=Se,X.y=ve,X.slackX=R.state.slackX+(oe-X.x),X.slackY=R.state.slackY+(me-X.y),K.x=X.x,K.y=X.y,K.deltaX=X.x-R.state.x,K.deltaY=X.y-R.state.y}var be=R.props.onDrag(z,K);if(be===!1)return!1;R.setState(X)}),T(M(R),"onDragStop",function(z,V){if(!R.state.dragging)return!1;var K=R.props.onStop(z,(0,i.createDraggableData)(M(R),V));if(K===!1)return!1;(0,s.default)("Draggable: onDragStop: %j",V);var X={dragging:!1,slackX:0,slackY:0},oe=Boolean(R.props.position);if(oe){var me=R.props.position,ue=me.x,pe=me.y;X.x=ue,X.y=pe}R.setState(X)}),R.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:I({},b.position),slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),R}return H(p,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:r.default.findDOMNode(this)}},{key:"render",value:function(){var R,z=this.props;z.axis,z.bounds;var V=z.children,K=z.defaultPosition,X=z.defaultClassName,oe=z.defaultClassNameDragging,me=z.defaultClassNameDragged,ue=z.position,pe=z.positionOffset;z.scale;var Se=_(z,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),ve={},be=null,q=Boolean(ue),re=!q||this.state.dragging,Re=ue||K,ze={x:(0,i.canDragX)(this)&&re?this.state.x:Re.x,y:(0,i.canDragY)(this)&&re?this.state.y:Re.y};this.state.isElementSVG?be=(0,a.createSVGTransform)(ze,pe):ve=(0,a.createCSSTransform)(ze,pe);var $e=(0,o.default)(V.props.className||"",X,(R={},T(R,oe,this.state.dragging),T(R,me,this.state.dragged),R));return t.createElement(u.default,m({},Se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(V),{className:$e,style:I(I({},V.props.style),ve),transform:be}))}}]),p}(t.Component);e.default=k,T(k,"displayName","Draggable"),T(k,"propTypes",I(I({},u.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),T(k,"defaultProps",I(I({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}(pi);var Pi=pi,Ni=Pi.default,Np=Pi.DraggableCore;xn.exports=Ni,xn.exports.default=Ni;var Tp=xn.exports.DraggableCore=Np,Dp=xn.exports;function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ti(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jp=function(t){var n=t.onSelectionDragStart,r=t.onSelectionDrag,o=t.onSelectionDragStop,a=t.onSelectionContextMenu,i=Z(function(H){return H.transform}),c=de(i,3),u=c[0],s=c[1],l=c[2],d=Z(function(H){return H.selectedNodesBbox}),g=Z(function(H){return H.selectionActive}),h=Z(function(H){return H.selectedElements}),m=Z(function(H){return H.snapToGrid}),_=Z(function(H){return H.snapGrid}),N=Z(function(H){return H.nodes}),C=G(function(H){return H.updateNodePosDiff}),j=Object(S.useRef)(null),B=Object(S.useMemo)(function(){return m?_:[1,1]},[m,_]),A=Object(S.useMemo)(function(){return h?h.filter(ct).map(function(H){var Y=N.find(function(P){return P.id===H.id});return Di(Di({},Y),{},{position:Y==null?void 0:Y.__rf.position})}):[]},[h,N]),O=Object(S.useMemo)(function(){return{transform:"translate(".concat(u,"px,").concat(s,"px) scale(").concat(l,")")}},[u,s,l]),L=Object(S.useMemo)(function(){return{width:d.width,height:d.height,top:d.y,left:d.x}},[d]),$=Object(S.useCallback)(function(H){n==null||n(H,A)},[n,A]),I=Object(S.useCallback)(function(H,Y){r&&r(H,A),C({diff:{x:Y.deltaX,y:Y.deltaY},isDragging:!0})},[r,A,C]),U=Object(S.useCallback)(function(H){C({isDragging:!1}),o==null||o(H,A)},[A,o]),F=Object(S.useCallback)(function(H){var Y=h?h.filter(ct).map(function(P){return N.find(function(f){return f.id===P.id})}):[];a==null||a(H,Y)},[a]);return!h||g?null:D.a.createElement("div",{className:"react-flow__nodesselection",style:O},D.a.createElement(Dp,{scale:l,grid:B,onStart:function(Y){return $(Y)},onDrag:function(Y,P){return I(Y,P)},onStop:function(Y){return U(Y)},nodeRef:j,enableUserSelectHack:!1},D.a.createElement("div",{ref:j,className:"react-flow__nodesselection-rect",onContextMenu:F,style:L})))},ji=function(t){var n=t.children,r=t.onPaneClick,o=t.onPaneContextMenu,a=t.onPaneScroll,i=t.onElementsRemove,c=t.deleteKeyCode,u=t.onMove,s=t.onMoveStart,l=t.onMoveEnd,d=t.selectionKeyCode,g=t.multiSelectionKeyCode,h=t.zoomActivationKeyCode,m=t.elementsSelectable,_=t.zoomOnScroll,N=t.zoomOnPinch,C=t.panOnScroll,j=t.panOnScrollSpeed,B=t.panOnScrollMode,A=t.zoomOnDoubleClick,O=t.paneMoveable,L=t.defaultPosition,$=t.defaultZoom,I=t.translateExtent,U=t.preventScrolling,F=t.onSelectionDragStart,H=t.onSelectionDrag,Y=t.onSelectionDragStop,P=t.onSelectionContextMenu,f=G(function(v){return v.unsetNodesSelection}),x=G(function(v){return v.resetSelectedElements}),M=Z(function(v){return v.nodesSelectionActive}),w=sn(d);cs({onElementsRemove:i,deleteKeyCode:c,multiSelectionKeyCode:g});var E=Object(S.useCallback)(function(v){r==null||r(v),f(),x()},[r]),T=Object(S.useCallback)(function(v){o==null||o(v)},[o]),k=Object(S.useCallback)(function(v){a==null||a(v)},[a]);return D.a.createElement(kd,{onMove:u,onMoveStart:s,onMoveEnd:l,selectionKeyPressed:w,elementsSelectable:m,zoomOnScroll:_,zoomOnPinch:N,panOnScroll:C,panOnScrollSpeed:j,panOnScrollMode:B,zoomOnDoubleClick:A,paneMoveable:O,defaultPosition:L,defaultZoom:$,translateExtent:I,zoomActivationKeyCode:h,preventScrolling:U},n,D.a.createElement(Ld,{selectionKeyPressed:w}),M&&D.a.createElement(jp,{onSelectionDragStart:F,onSelectionDrag:H,onSelectionDragStop:Y,onSelectionContextMenu:P}),D.a.createElement("div",{className:"react-flow__pane",onClick:E,onContextMenu:T,onWheel:k}))};ji.displayName="FlowRenderer";var Rp=Object(S.memo)(ji),Ri=function(t){var n=Z(function(m){return m.transform}),r=Z(function(m){return m.selectedElements}),o=Z(function(m){return m.nodesDraggable}),a=Z(function(m){return m.nodesConnectable}),i=Z(function(m){return m.elementsSelectable}),c=Z(function(m){return m.width}),u=Z(function(m){return m.height}),s=Z(function(m){return m.nodes}),l=G(function(m){return m.updateNodeDimensions}),d=t.onlyRenderVisibleElements?ma(s,{x:0,y:0,width:c,height:u},n,!0):s,g=Object(S.useMemo)(function(){return{transform:"translate(".concat(n[0],"px,").concat(n[1],"px) scale(").concat(n[2],")")}},[n[0],n[1],n[2]]),h=Object(S.useMemo)(function(){return typeof ResizeObserver=="undefined"?null:new ResizeObserver(function(m){var _=m.map(function(N){return{id:N.target.getAttribute("data-id"),nodeElement:N.target}});l(_)})},[]);return D.a.createElement("div",{className:"react-flow__nodes",style:g},d.map(function(m){var _=m.type||"default",N=t.nodeTypes[_]||t.nodeTypes.default;t.nodeTypes[_]||console.warn('Node type "'.concat(_,'" not found. Using fallback type "default".'));var C=!!(m.draggable||o&&typeof m.draggable=="undefined"),j=!!(m.selectable||i&&typeof m.selectable=="undefined"),B=!!(m.connectable||a&&typeof m.connectable=="undefined");return D.a.createElement(N,{key:m.id,id:m.id,className:m.className,style:m.style,type:_,data:m.data,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,isHidden:m.isHidden,xPos:m.__rf.position.x,yPos:m.__rf.position.y,isDragging:m.__rf.isDragging,isInitialized:m.__rf.width!==null&&m.__rf.height!==null,snapGrid:t.snapGrid,snapToGrid:t.snapToGrid,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onElementClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onNodeDoubleClick:t.onNodeDoubleClick,onNodeDragStart:t.onNodeDragStart,onNodeDrag:t.onNodeDrag,onNodeDragStop:t.onNodeDragStop,scale:n[2],selected:(r==null?void 0:r.some(function(A){var O=A.id;return O===m.id}))||!1,isDraggable:C,isSelectable:j,isConnectable:B,resizeObserver:h})}))};Ri.displayName="NodeRenderer";var Ip=Object(S.memo)(Ri),kp=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ii(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lp=function(t){var n=t.x,r=t.y,o=t.label,a=t.labelStyle,i=a===void 0?{}:a,c=t.labelShowBg,u=c===void 0?!0:c,s=t.labelBgStyle,l=s===void 0?{}:s,d=t.labelBgPadding,g=d===void 0?[2,4]:d,h=t.labelBgBorderRadius,m=h===void 0?2:h,_=t.children,N=t.className,C=Ae(t,kp),j=Object(S.useRef)(null),B=Object(S.useState)({x:0,y:0,width:0,height:0}),A=de(B,2),O=A[0],L=A[1],$=De(["react-flow__edge-textwrapper",N]);return Object(S.useEffect)(function(){if(j.current){var I=j.current.getBBox();L({x:I.x,y:I.y,width:I.width,height:I.height})}},[o]),typeof o=="undefined"||!o?null:D.a.createElement("g",Ap({transform:"translate(".concat(n-O.width/2," ").concat(r-O.height/2,")"),className:$},C),u&&D.a.createElement("rect",{width:O.width+2*g[0],x:-g[0],y:-g[1],height:O.height+2*g[1],className:"react-flow__edge-textbg",style:l,rx:m,ry:m}),D.a.createElement("text",{className:"react-flow__edge-text",y:O.height/2,dy:"0.3em",ref:j,style:i},o),_)},Rr=Object(S.memo)(Lp),Ir=function(t,n){return typeof n!="undefined"&&n?"url(#".concat(n,")"):typeof t!="undefined"?"url(#react-flow__".concat(t,")"):"none"},ki=[Q.Left,Q.Right],jn=function(t){var n=t.sourceX,r=t.sourceY,o=t.targetX,a=t.targetY,i=t.sourcePosition,c=i===void 0?Q.Bottom:i,u=t.targetPosition,s=u===void 0?Q.Top:u,l=ki.includes(c),d=ki.includes(s),g=l&&!d||d&&!l;if(g){var h=l?Math.abs(o-n):0,m=n>o?n-h:n+h,_=l?0:Math.abs(a-r),N=r<a?r+_:r-_;return[m,N,h,_]}var C=Math.abs(o-n)/2,j=o<n?o+C:o-C,B=Math.abs(a-r)/2,A=a<r?a+B:a-B;return[j,A,C,B]};function Ai(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=r===void 0?Q.Bottom:r,a=e.targetX,i=e.targetY,c=e.targetPosition,u=c===void 0?Q.Top:c,s=e.centerX,l=e.centerY,d=jn({sourceX:t,sourceY:n,targetX:a,targetY:i}),g=de(d,2),h=g[0],m=g[1],_=[Q.Left,Q.Right],N=typeof s!="undefined"?s:h,C=typeof l!="undefined"?l:m,j="M".concat(t,",").concat(n," C").concat(t,",").concat(C," ").concat(a,",").concat(C," ").concat(a,",").concat(i);return _.includes(o)&&_.includes(u)?j="M".concat(t,",").concat(n," C").concat(N,",").concat(n," ").concat(N,",").concat(i," ").concat(a,",").concat(i):_.includes(u)?j="M".concat(t,",").concat(n," C").concat(t,",").concat(i," ").concat(t,",").concat(i," ").concat(a,",").concat(i):_.includes(o)&&(j="M".concat(t,",").concat(n," C").concat(a,",").concat(n," ").concat(a,",").concat(n," ").concat(a,",").concat(i)),j}var kr=Object(S.memo)(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.sourcePosition,i=a===void 0?Q.Bottom:a,c=e.targetPosition,u=c===void 0?Q.Top:c,s=e.label,l=e.labelStyle,d=e.labelShowBg,g=e.labelBgStyle,h=e.labelBgPadding,m=e.labelBgBorderRadius,_=e.style,N=e.arrowHeadType,C=e.markerEndId,j=jn({sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:u}),B=de(j,2),A=B[0],O=B[1],L=Ai({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:u}),$=s?D.a.createElement(Rr,{x:A,y:O,label:s,labelStyle:l,labelShowBg:d,labelBgStyle:g,labelBgPadding:h,labelBgBorderRadius:m}):null,I=Ir(N,C);return D.a.createElement(D.a.Fragment,null,D.a.createElement("path",{style:_,d:L,className:"react-flow__edge-path",markerEnd:I}),$)}),Ar=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},Lr=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},Br=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},zr=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},$r=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)},Hr=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},Ur=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},Xr=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)};function Yr(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=r===void 0?Q.Bottom:r,a=e.targetX,i=e.targetY,c=e.targetPosition,u=c===void 0?Q.Top:c,s=e.borderRadius,l=s===void 0?5:s,d=e.centerX,g=e.centerY,h=jn({sourceX:t,sourceY:n,targetX:a,targetY:i}),m=de(h,4),_=m[0],N=m[1],C=m[2],j=m[3],B=Math.min(l,Math.abs(a-t)),A=Math.min(l,Math.abs(i-n)),O=Math.min(B,A,C,j),L=[Q.Left,Q.Right],$=typeof d!="undefined"?d:_,I=typeof g!="undefined"?g:N,U=null,F=null;return t<=a?(U=n<=i?Ar(t,I,O):Hr(t,I,O),F=n<=i?Xr(a,I,O):zr(a,I,O)):(U=n<i?Br(t,I,O):Ur(t,I,O),F=n<i?$r(a,I,O):Lr(a,I,O)),L.includes(o)&&L.includes(u)?t<=a?(U=n<=i?Xr($,n,O):zr($,n,O),F=n<=i?Ar($,i,O):Hr($,i,O)):o===Q.Right&&u===Q.Left&&(U=n<=i?$r($,n,O):Lr($,n,O),F=n<=i?Br($,i,O):Ur($,i,O)):L.includes(o)&&!L.includes(u)?(t<=a?U=n<=i?Xr(a,n,O):zr(a,n,O):U=n<=i?$r(a,n,O):Lr(a,n,O),F=""):!L.includes(o)&&L.includes(u)&&(t<=a?U=n<=i?Ar(t,i,O):Hr(t,i,O):U=n<=i?Br(t,i,O):Ur(t,i,O),F=""),"M ".concat(t,",").concat(n).concat(U).concat(F,"L ").concat(a,",").concat(i)}var Fr=Object(S.memo)(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.label,i=e.labelStyle,c=e.labelShowBg,u=e.labelBgStyle,s=e.labelBgPadding,l=e.labelBgBorderRadius,d=e.style,g=e.sourcePosition,h=g===void 0?Q.Bottom:g,m=e.targetPosition,_=m===void 0?Q.Top:m,N=e.arrowHeadType,C=e.markerEndId,j=e.borderRadius,B=j===void 0?5:j,A=jn({sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:h,targetPosition:_}),O=de(A,2),L=O[0],$=O[1],I=Yr({sourceX:t,sourceY:n,sourcePosition:h,targetX:r,targetY:o,targetPosition:_,borderRadius:B}),U=Ir(N,C),F=a?D.a.createElement(Rr,{x:L,y:$,label:a,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:l}):null;return D.a.createElement(D.a.Fragment,null,D.a.createElement("path",{style:d,className:"react-flow__edge-path",d:I,markerEnd:U}),F)}),Bp=function(t){var n=t.connectionNodeId,r=t.connectionHandleId,o=t.connectionHandleType,a=t.connectionLineStyle,i=t.connectionPositionX,c=t.connectionPositionY,u=t.connectionLineType,s=u===void 0?lt.Bezier:u,l=t.nodes,d=l===void 0?[]:l,g=t.transform,h=t.isConnectable,m=t.CustomConnectionLineComponent,_=Object(S.useState)(null),N=de(_,2),C=N[0],j=N[1],B=n,A=r;if(Object(S.useEffect)(function(){var x=d.find(function(M){return M.id===B})||null;j(x)},[]),!C||!h)return null;var O=A?C.__rf.handleBounds[o].find(function(x){return x.id===A}):C.__rf.handleBounds[o][0],L=O?O.x+O.width/2:C.__rf.width/2,$=O?O.y+O.height/2:C.__rf.height,I=C.__rf.position.x+L,U=C.__rf.position.y+$,F=(i-g[0])/g[2],H=(c-g[1])/g[2],Y=(O==null?void 0:O.position)===Q.Left||(O==null?void 0:O.position)===Q.Right,P=Y?Q.Left:Q.Top;if(m)return D.a.createElement("g",{className:"react-flow__connection"},D.a.createElement(m,{sourceX:I,sourceY:U,sourcePosition:O==null?void 0:O.position,targetX:F,targetY:H,targetPosition:P,connectionLineType:s,connectionLineStyle:a}));var f="";return s===lt.Bezier?f=Ai({sourceX:I,sourceY:U,sourcePosition:O==null?void 0:O.position,targetX:F,targetY:H,targetPosition:P}):s===lt.Step?f=Yr({sourceX:I,sourceY:U,sourcePosition:O==null?void 0:O.position,targetX:F,targetY:H,targetPosition:P,borderRadius:0}):s===lt.SmoothStep?f=Yr({sourceX:I,sourceY:U,sourcePosition:O==null?void 0:O.position,targetX:F,targetY:H,targetPosition:P}):f="M".concat(I,",").concat(U," ").concat(F,",").concat(H),D.a.createElement("g",{className:"react-flow__connection"},D.a.createElement("path",{d:f,className:"react-flow__connection-path",style:a}))},Li=function(t){var n=t.id,r=t.children;return D.a.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},r)},Bi=function(t){var n=t.color;return D.a.createElement("defs",null,D.a.createElement(Li,{id:"react-flow__arrowclosed"},D.a.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:n,points:"-5,-4 0,0 -5,4 -5,-4"})),D.a.createElement(Li,{id:"react-flow__arrow"},D.a.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})))};Bi.displayName="MarkerDefinitions";function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Hi=Object(S.memo)(function(e){return D.a.createElement(Fr,$i($i({},e),{},{borderRadius:0}))}),Ui=Object(S.memo)(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.label,i=e.labelStyle,c=e.labelShowBg,u=e.labelBgStyle,s=e.labelBgPadding,l=e.labelBgBorderRadius,d=e.style,g=e.arrowHeadType,h=e.markerEndId,m=Math.abs(o-n)/2,_=o<n?o+m:o-m,N=Math.abs(r-t)/2,C=r<t?r+N:r-N,j=Ir(g,h),B=a?D.a.createElement(Rr,{x:C,y:_,label:a,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:l}):null;return D.a.createElement(D.a.Fragment,null,D.a.createElement("path",{style:d,className:"react-flow__edge-path",d:"M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),markerEnd:j}),B)});function Xi(e,t,n,r,o,a,i){var c=i.elementFromPoint(e.clientX,e.clientY),u=(c==null?void 0:c.classList.contains("target"))||!1,s=(c==null?void 0:c.classList.contains("source"))||!1,l={elementBelow:c,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(c&&(u||s)){l.isHoveringHandle=!0;var d=t===St.Strict?n&&s||!n&&u:!0;if(d){var g=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),m=n?{source:g,sourceHandle:h,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:g,targetHandle:h};l.connection=m,l.isValid=a(m)}}return l}function Yi(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function Fi(e,t,n,r,o,a,i,c,u,s,l,d,g,h){var m=e.target.closest(".react-flow"),_=Ju(e.target);if(!_)return;var N=_.elementFromPoint(e.clientX,e.clientY),C=N==null?void 0:N.classList.contains("target"),j=N==null?void 0:N.classList.contains("source");if(!m||!C&&!j&&!s)return;var B=s||(C?"target":"source"),A=m.getBoundingClientRect(),O;o({x:e.clientX-A.left,y:e.clientY-A.top}),r({connectionNodeId:n,connectionHandleId:t,connectionHandleType:B}),d==null||d(e,{nodeId:n,handleId:t,handleType:B});function L(I){o({x:I.clientX-A.left,y:I.clientY-A.top});var U=Xi(I,u,i,n,t,c,_),F=U.connection,H=U.elementBelow,Y=U.isValid,P=U.isHoveringHandle;if(!P)return Yi(O);var f=F.source===F.target;!f&&H&&(O=H,H.classList.add("react-flow__handle-connecting"),H.classList.toggle("react-flow__handle-valid",Y))}function $(I){var U=Xi(I,u,i,n,t,c,_),F=U.connection,H=U.isValid;g==null||g(I),H&&(a==null||a(F)),h==null||h(I),s&&l&&l(I),Yi(O),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),_.removeEventListener("mousemove",L),_.removeEventListener("mouseup",$)}_.addEventListener("mousemove",L),_.addEventListener("mouseup",$)}var zp=function(t,n,r){return r===Q.Left?t-n:r===Q.Right?t+n:t},$p=function(t,n,r){return r===Q.Top?t-n:r===Q.Bottom?t+n:t},Vi=function(t){var n=t.className,r=t.position,o=t.centerX,a=t.centerY,i=t.radius,c=i===void 0?10:i;return D.a.createElement("circle",{className:De(["react-flow__edgeupdater",n]),cx:zp(o,c,r),cy:$p(a,c,r),r:c,stroke:"transparent",fill:"transparent"})},Ht=function(t){var n=function(o){var a=o.id,i=o.className,c=o.type,u=o.data,s=o.onClick,l=o.onEdgeDoubleClick,d=o.selected,g=o.animated,h=o.label,m=o.labelStyle,_=o.labelShowBg,N=o.labelBgStyle,C=o.labelBgPadding,j=o.labelBgBorderRadius,B=o.style,A=o.arrowHeadType,O=o.source,L=o.target,$=o.sourceX,I=o.sourceY,U=o.targetX,F=o.targetY,H=o.sourcePosition,Y=o.targetPosition,P=o.elementsSelectable,f=o.markerEndId,x=o.isHidden,M=o.sourceHandleId,w=o.targetHandleId,E=o.handleEdgeUpdate,T=o.onConnectEdge,k=o.onContextMenu,v=o.onMouseEnter,y=o.onMouseMove,p=o.onMouseLeave,b=o.edgeUpdaterRadius,R=o.onEdgeUpdateStart,z=o.onEdgeUpdateEnd,V=G(function(ee){return ee.addSelectedElements}),K=G(function(ee){return ee.setConnectionNodeId}),X=G(function(ee){return ee.unsetNodesSelection}),oe=G(function(ee){return ee.setConnectionPosition}),me=Z(function(ee){return ee.connectionMode}),ue=Object(S.useState)(!1),pe=de(ue,2),Se=pe[0],ve=pe[1],be=!P&&!s,q=De(["react-flow__edge","react-flow__edge-".concat(c),i,{selected:d,animated:g,inactive:be,updating:Se}]),re=Object(S.useMemo)(function(){var ee={id:a,source:O,target:L,type:c};return M&&(ee.sourceHandle=M),w&&(ee.targetHandle=w),typeof u!="undefined"&&(ee.data=u),ee},[a,O,L,c,M,w,u]),Re=Object(S.useCallback)(function(ee){P&&(X(),V(re)),s==null||s(ee,re)},[P,re,s]),ze=Object(S.useCallback)(function(ee){l==null||l(ee,re)},[re,l]),$e=Object(S.useCallback)(function(ee){k==null||k(ee,re)},[re,k]),ot=Object(S.useCallback)(function(ee){v==null||v(ee,re)},[re,k]),Ze=Object(S.useCallback)(function(ee){y==null||y(ee,re)},[re,k]),J=Object(S.useCallback)(function(ee){p==null||p(ee,re)},[re,k]),ne=Object(S.useCallback)(function(ee,Ge){var Xt=Ge?L:O,Ot=Ge?w:M,_t=function(){return!0},Yt=Ge;R==null||R(ee,re);var xt=z?function(Ct){return z(Ct,re)}:void 0;Fi(ee,Ot,Xt,K,oe,T,Yt,_t,me,Ge?"target":"source",xt)},[a,O,L,c,M,w,K,oe,re]),se=Object(S.useCallback)(function(ee){ne(ee,!0)},[a,O,M,ne]),Pe=Object(S.useCallback)(function(ee){ne(ee,!1)},[a,L,w,ne]),Ie=Object(S.useCallback)(function(){return ve(!0)},[ve]),ke=Object(S.useCallback)(function(){return ve(!1)},[ve]);return x?null:D.a.createElement("g",{className:q,onClick:Re,onDoubleClick:ze,onContextMenu:$e,onMouseEnter:ot,onMouseMove:Ze,onMouseLeave:J},D.a.createElement(t,{id:a,source:O,target:L,selected:d,animated:g,label:h,labelStyle:m,labelShowBg:_,labelBgStyle:N,labelBgPadding:C,labelBgBorderRadius:j,data:u,style:B,arrowHeadType:A,sourceX:$,sourceY:I,targetX:U,targetY:F,sourcePosition:H,targetPosition:Y,markerEndId:f,sourceHandleId:M,targetHandleId:w}),E&&D.a.createElement("g",{onMouseDown:se,onMouseEnter:Ie,onMouseOut:ke},D.a.createElement(Vi,{position:H,centerX:$,centerY:I,radius:b})),E&&D.a.createElement("g",{onMouseDown:Pe,onMouseEnter:Ie,onMouseOut:ke},D.a.createElement(Vi,{position:Y,centerX:U,centerY:F,radius:b})))};return n.displayName="EdgeWrapper",Object(S.memo)(n)};function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wi(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hp(e){var t={default:Ht(e.default||kr),straight:Ht(e.bezier||Ui),step:Ht(e.step||Hi),smoothstep:Ht(e.step||Fr)},n={},r=Object.keys(e).filter(function(o){return!["default","bezier"].includes(o)}).reduce(function(o,a){return o[a]=Ht(e[a]||kr),o},n);return Ki(Ki({},t),r)}function Zi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=((n==null?void 0:n.x)||0)+t.__rf.position.x,o=((n==null?void 0:n.y)||0)+t.__rf.position.y,a=(n==null?void 0:n.width)||t.__rf.width,i=(n==null?void 0:n.height)||t.__rf.height;switch(e){case Q.Top:return{x:r+a/2,y:o};case Q.Right:return{x:r+a,y:o+i/2};case Q.Bottom:return{x:r+a/2,y:o+i};case Q.Left:return{x:r,y:o+i/2}}}function Gi(e,t){if(!e)return null;var n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(function(r){return r.id===t})),typeof n=="undefined"?null:n}var Up=function(t,n,r,o,a,i){var c=Zi(r,t,n),u=Zi(i,o,a);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y}};function Xp(e){var t=e.sourcePos,n=e.targetPos,r=e.width,o=e.height,a=e.transform,i={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x,n.x),y2:Math.max(t.y,n.y)};i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);var c=ht({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:r/a[2],height:o/a[2]}),u=Math.max(0,Math.min(c.x2,i.x2)-Math.max(c.x,i.x)),s=Math.max(0,Math.min(c.y2,i.y2)-Math.max(c.y,i.y)),l=Math.ceil(u*s);return l>0}var Yp=function(t,n){return n.reduce(function(r,o){return o.id===t.source&&(r.sourceNode=o),o.id===t.target&&(r.targetNode=o),r},{sourceNode:null,targetNode:null})},Fp=function(t){var n=t.edge,r=t.props,o=t.nodes,a=t.selectedElements,i=t.elementsSelectable,c=t.transform,u=t.width,s=t.height,l=t.onlyRenderVisibleElements,d=t.connectionMode,g=n.sourceHandle||null,h=n.targetHandle||null,m=Yp(n,o),_=m.sourceNode,N=m.targetNode,C=Object(S.useCallback)(function(w){var E;(E=r.onEdgeUpdate)===null||E===void 0||E.call(r,n,w)},[n]);if(!_)return console.warn("couldn't create edge for source id: ".concat(n.source,"; edge id: ").concat(n.id)),null;if(!N)return console.warn("couldn't create edge for target id: ".concat(n.target,"; edge id: ").concat(n.id)),null;if(!_.__rf.width||!N.__rf.width)return null;var j=n.type||"default",B=r.edgeTypes[j]||r.edgeTypes.default,A=N.__rf.handleBounds,O=d===St.Strict?A.target:A.target||A.source,L=Gi(_.__rf.handleBounds.source,g),$=Gi(O,h),I=L?L.position:Q.Bottom,U=$?$.position:Q.Top;if(!L)return console.warn("couldn't create edge for source handle id: ".concat(g,"; edge id: ").concat(n.id)),null;if(!$)return console.warn("couldn't create edge for target handle id: ".concat(h,"; edge id: ").concat(n.id)),null;var F=Up(_,L,I,N,$,U),H=F.sourceX,Y=F.sourceY,P=F.targetX,f=F.targetY,x=l?Xp({sourcePos:{x:H,y:Y},targetPos:{x:P,y:f},width:u,height:s,transform:c}):!0;if(!x)return null;var M=(a==null?void 0:a.some(function(w){return it(w)&&w.id===n.id}))||!1;return D.a.createElement(B,{key:n.id,id:n.id,className:n.className,type:n.type,data:n.data,onClick:r.onElementClick,selected:M,animated:n.animated,label:n.label,labelStyle:n.labelStyle,labelShowBg:n.labelShowBg,labelBgStyle:n.labelBgStyle,labelBgPadding:n.labelBgPadding,labelBgBorderRadius:n.labelBgBorderRadius,style:n.style,arrowHeadType:n.arrowHeadType,source:n.source,target:n.target,sourceHandleId:g,targetHandleId:h,sourceX:H,sourceY:Y,targetX:P,targetY:f,sourcePosition:I,targetPosition:U,elementsSelectable:i,markerEndId:r.markerEndId,isHidden:n.isHidden,onConnectEdge:C,handleEdgeUpdate:typeof r.onEdgeUpdate!="undefined",onContextMenu:r.onEdgeContextMenu,onMouseEnter:r.onEdgeMouseEnter,onMouseMove:r.onEdgeMouseMove,onMouseLeave:r.onEdgeMouseLeave,edgeUpdaterRadius:r.edgeUpdaterRadius,onEdgeDoubleClick:r.onEdgeDoubleClick,onEdgeUpdateStart:r.onEdgeUpdateStart,onEdgeUpdateEnd:r.onEdgeUpdateEnd})},qi=function(t){var n=Z(function(O){return O.transform}),r=Z(function(O){return O.nodes}),o=Z(function(O){return O.edges}),a=Z(function(O){return O.connectionNodeId}),i=Z(function(O){return O.connectionHandleId}),c=Z(function(O){return O.connectionHandleType}),u=Z(function(O){return O.connectionPosition}),s=Z(function(O){return O.selectedElements}),l=Z(function(O){return O.nodesConnectable}),d=Z(function(O){return O.elementsSelectable}),g=Z(function(O){return O.width}),h=Z(function(O){return O.height});if(!g)return null;var m=t.connectionLineType,_=t.arrowHeadColor,N=t.connectionLineStyle,C=t.connectionLineComponent,j=t.onlyRenderVisibleElements,B="translate(".concat(n[0],",").concat(n[1],") scale(").concat(n[2],")"),A=a&&c;return D.a.createElement("svg",{width:g,height:h,className:"react-flow__edges"},D.a.createElement(Bi,{color:_}),D.a.createElement("g",{transform:B},o.map(function(O){return D.a.createElement(Fp,{key:O.id,edge:O,props:t,nodes:r,selectedElements:s,elementsSelectable:d,transform:n,width:g,height:h,onlyRenderVisibleElements:j})}),A&&D.a.createElement(Bp,{nodes:r,connectionNodeId:a,connectionHandleId:i,connectionHandleType:c,connectionPositionX:u.x,connectionPositionY:u.y,transform:n,connectionLineStyle:N,connectionLineType:m,isConnectable:l,CustomConnectionLineComponent:C})))};qi.displayName="EdgeRenderer";var Vp=Object(S.memo)(qi),Vr=.1,Wp={zoomIn:function(){},zoomOut:function(){},zoomTo:function(t){},transform:function(t){},fitView:function(){},setCenter:function(t,n){},fitBounds:function(t){},project:function(t){return t},initialized:!1},Qi=function(){var t=un(),n=Z(function(a){return a.d3Zoom}),r=Z(function(a){return a.d3Selection}),o=Object(S.useMemo)(function(){return r&&n?{zoomIn:function(){return n.scaleBy(r,1.2)},zoomOut:function(){return n.scaleBy(r,1/1.2)},zoomTo:function(i){return n.scaleTo(r,i)},transform:function(i){var c=st.translate(i.x,i.y).scale(i.zoom);n.transform(r,c)},fitView:function(){var i,c,u,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{padding:Vr,includeHiddenNodes:!1},l=t.getState(),d=l.nodes,g=l.width,h=l.height,m=l.minZoom,_=l.maxZoom;if(!!d.length){var N=rr(s.includeHiddenNodes?d:d.filter(function($){return!$.isHidden})),C=Sa(N,g,h,(i=s.minZoom)!==null&&i!==void 0?i:m,(c=s.maxZoom)!==null&&c!==void 0?c:_,(u=s.padding)!==null&&u!==void 0?u:Vr),j=de(C,3),B=j[0],A=j[1],O=j[2],L=st.translate(B,A).scale(O);n.transform(r,L)}},setCenter:function(i,c,u){var s=t.getState(),l=s.width,d=s.height,g=s.maxZoom,h=typeof u!="undefined"?u:g,m=l/2-i*h,_=d/2-c*h,N=st.translate(m,_).scale(h);n.transform(r,N)},fitBounds:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr,u=t.getState(),s=u.width,l=u.height,d=u.minZoom,g=u.maxZoom,h=Sa(i,s,l,d,g,c),m=de(h,3),_=m[0],N=m[1],C=m[2],j=st.translate(_,N).scale(C);n.transform(r,j)},project:function(i){var c=t.getState(),u=c.transform,s=c.snapToGrid,l=c.snapGrid;return va(i,u,s,l)},initialized:!0}:Wp},[n,r]);return o},Ji=function(t){var n=t.nodeTypes,r=t.edgeTypes,o=t.onMove,a=t.onMoveStart,i=t.onMoveEnd,c=t.onLoad,u=t.onElementClick,s=t.onNodeDoubleClick,l=t.onEdgeDoubleClick,d=t.onNodeMouseEnter,g=t.onNodeMouseMove,h=t.onNodeMouseLeave,m=t.onNodeContextMenu,_=t.onNodeDragStart,N=t.onNodeDrag,C=t.onNodeDragStop,j=t.onSelectionDragStart,B=t.onSelectionDrag,A=t.onSelectionDragStop,O=t.onSelectionContextMenu,L=t.connectionMode,$=t.connectionLineType,I=t.connectionLineStyle,U=t.connectionLineComponent,F=t.selectionKeyCode,H=t.multiSelectionKeyCode,Y=t.zoomActivationKeyCode,P=t.onElementsRemove,f=t.deleteKeyCode,x=t.onConnect,M=t.onConnectStart,w=t.onConnectStop,E=t.onConnectEnd,T=t.snapToGrid,k=t.snapGrid,v=t.onlyRenderVisibleElements,y=t.nodesDraggable,p=t.nodesConnectable,b=t.elementsSelectable,R=t.selectNodesOnDrag,z=t.minZoom,V=t.maxZoom,K=t.defaultZoom,X=t.defaultPosition,oe=t.translateExtent,me=t.preventScrolling,ue=t.nodeExtent,pe=t.arrowHeadColor,Se=t.markerEndId,ve=t.zoomOnScroll,be=t.zoomOnPinch,q=t.panOnScroll,re=t.panOnScrollSpeed,Re=t.panOnScrollMode,ze=t.zoomOnDoubleClick,$e=t.paneMoveable,ot=t.onPaneClick,Ze=t.onPaneScroll,J=t.onPaneContextMenu,ne=t.onEdgeUpdate,se=t.onEdgeContextMenu,Pe=t.onEdgeMouseEnter,Ie=t.onEdgeMouseMove,ke=t.onEdgeMouseLeave,ee=t.edgeUpdaterRadius,Ge=t.onEdgeUpdateStart,Xt=t.onEdgeUpdateEnd,Ot=Object(S.useRef)(!1),_t=G(function(ae){return ae.setOnConnect}),Yt=G(function(ae){return ae.setOnConnectStart}),xt=G(function(ae){return ae.setOnConnectStop}),Ct=G(function(ae){return ae.setOnConnectEnd}),An=G(function(ae){return ae.setSnapGrid}),no=G(function(ae){return ae.setSnapToGrid}),Ln=G(function(ae){return ae.setNodesDraggable}),ro=G(function(ae){return ae.setNodesConnectable}),Bn=G(function(ae){return ae.setElementsSelectable}),oo=G(function(ae){return ae.setMinZoom}),zn=G(function(ae){return ae.setMaxZoom}),ao=G(function(ae){return ae.setTranslateExtent}),$n=G(function(ae){return ae.setNodeExtent}),io=G(function(ae){return ae.setConnectionMode}),Ft=un(),at=Qi(),Hn=at.zoomIn,Un=at.zoomOut,Xn=at.zoomTo,Yn=at.transform,Fn=at.fitView,Vn=at.initialized;return Object(S.useEffect)(function(){!Ot.current&&Vn&&(c&&c({fitView:function(){var co=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{padding:.1};return Fn(co)},zoomIn:Hn,zoomOut:Un,zoomTo:Xn,setTransform:Yn,project:ts(Ft),getElements:as(Ft),toObject:is(Ft)}),Ot.current=!0)},[c,Hn,Un,Xn,Yn,Fn,Vn]),Object(S.useEffect)(function(){x&&_t(x)},[x]),Object(S.useEffect)(function(){M&&Yt(M)},[M]),Object(S.useEffect)(function(){w&&xt(w)},[w]),Object(S.useEffect)(function(){E&&Ct(E)},[E]),Object(S.useEffect)(function(){typeof T!="undefined"&&no(T)},[T]),Object(S.useEffect)(function(){typeof k!="undefined"&&An(k)},[k]),Object(S.useEffect)(function(){typeof y!="undefined"&&Ln(y)},[y]),Object(S.useEffect)(function(){typeof p!="undefined"&&ro(p)},[p]),Object(S.useEffect)(function(){typeof b!="undefined"&&Bn(b)},[b]),Object(S.useEffect)(function(){typeof z!="undefined"&&oo(z)},[z]),Object(S.useEffect)(function(){typeof V!="undefined"&&zn(V)},[V]),Object(S.useEffect)(function(){typeof oe!="undefined"&&ao(oe)},[oe]),Object(S.useEffect)(function(){typeof ue!="undefined"&&$n(ue)},[ue]),Object(S.useEffect)(function(){typeof L!="undefined"&&io(L)},[L]),D.a.createElement(Rp,{onPaneClick:ot,onPaneContextMenu:J,onPaneScroll:Ze,onElementsRemove:P,deleteKeyCode:f,selectionKeyCode:F,multiSelectionKeyCode:H,zoomActivationKeyCode:Y,elementsSelectable:b,onMove:o,onMoveStart:a,onMoveEnd:i,zoomOnScroll:ve,zoomOnPinch:be,zoomOnDoubleClick:ze,panOnScroll:q,panOnScrollSpeed:re,panOnScrollMode:Re,paneMoveable:$e,defaultPosition:X,defaultZoom:K,translateExtent:oe,onSelectionDragStart:j,onSelectionDrag:B,onSelectionDragStop:A,onSelectionContextMenu:O,preventScrolling:me},D.a.createElement(Ip,{nodeTypes:n,onElementClick:u,onNodeDoubleClick:s,onNodeMouseEnter:d,onNodeMouseMove:g,onNodeMouseLeave:h,onNodeContextMenu:m,onNodeDragStop:C,onNodeDrag:N,onNodeDragStart:_,selectNodesOnDrag:R,snapToGrid:T,snapGrid:k,onlyRenderVisibleElements:v}),D.a.createElement(Vp,{edgeTypes:r,onElementClick:u,onEdgeDoubleClick:l,connectionLineType:$,connectionLineStyle:I,connectionLineComponent:U,connectionMode:L,arrowHeadColor:pe,markerEndId:Se,onEdgeUpdate:ne,onlyRenderVisibleElements:v,onEdgeContextMenu:se,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ie,onEdgeMouseLeave:ke,onEdgeUpdateStart:Ge,onEdgeUpdateEnd:Xt,edgeUpdaterRadius:ee}))};Ji.displayName="GraphView";var Kp=Object(S.memo)(Ji),Zp=function(t){var n=t.elements,r=G(function(o){return o.setElements});return Object(S.useEffect)(function(){r(n)},[n]),null},Wr=Object(S.createContext)(null),Gp=Wr.Provider;Wr.Consumer;var qp=["type","position","isValidConnection","isConnectable","id","onConnect","children","className"];function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Jp=function(){return!0},tc=function(t){var n=t.type,r=n===void 0?"source":n,o=t.position,a=o===void 0?Q.Top:o,i=t.isValidConnection,c=i===void 0?Jp:i,u=t.isConnectable,s=u===void 0?!0:u,l=t.id,d=t.onConnect,g=t.children,h=t.className,m=Ae(t,qp),_=Object(S.useContext)(Wr),N=G(function(Y){return Y.setConnectionPosition}),C=G(function(Y){return Y.setConnectionNodeId}),j=Z(function(Y){return Y.onConnect}),B=Z(function(Y){return Y.onConnectStart}),A=Z(function(Y){return Y.onConnectStop}),O=Z(function(Y){return Y.onConnectEnd}),L=Z(function(Y){return Y.connectionMode}),$=l||null,I=r==="target",U=Object(S.useCallback)(function(Y){j==null||j(Y),d==null||d(Y)},[j,d]),F=Object(S.useCallback)(function(Y){Fi(Y,$,_,C,N,U,I,c,L,void 0,void 0,B,A,O)},[$,_,C,N,U,I,c,L,B,A,O]),H=De(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",h,{source:!I,target:I,connectable:s}]);return D.a.createElement("div",Qp({"data-handleid":$,"data-nodeid":_,"data-handlepos":a,className:H,onMouseDown:F},m),g)};tc.displayName="Handle";var Ut=Object(S.memo)(tc),nc=function(t){var n=t.data,r=t.isConnectable,o=t.targetPosition,a=o===void 0?Q.Top:o,i=t.sourcePosition,c=i===void 0?Q.Bottom:i;return D.a.createElement(D.a.Fragment,null,D.a.createElement(Ut,{type:"target",position:a,isConnectable:r}),n.label,D.a.createElement(Ut,{type:"source",position:c,isConnectable:r}))};nc.displayName="DefaultNode";var Kr=Object(S.memo)(nc),rc=function(t){var n=t.data,r=t.isConnectable,o=t.sourcePosition,a=o===void 0?Q.Bottom:o;return D.a.createElement(D.a.Fragment,null,n.label,D.a.createElement(Ut,{type:"source",position:a,isConnectable:r}))};rc.displayName="InputNode";var oc=Object(S.memo)(rc),ac=function(t){var n=t.data,r=t.isConnectable,o=t.targetPosition,a=o===void 0?Q.Top:o;return D.a.createElement(D.a.Fragment,null,D.a.createElement(Ut,{type:"target",position:a,isConnectable:r}),n.label)};ac.displayName="OutputNode";var ic=Object(S.memo)(ac);function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rn=function(t){var n=function(o){var a=o.id,i=o.type,c=o.data,u=o.scale,s=o.xPos,l=o.yPos,d=o.selected,g=o.onClick,h=o.onMouseEnter,m=o.onMouseMove,_=o.onMouseLeave,N=o.onContextMenu,C=o.onNodeDoubleClick,j=o.onNodeDragStart,B=o.onNodeDrag,A=o.onNodeDragStop,O=o.style,L=o.className,$=o.isDraggable,I=o.isSelectable,U=o.isConnectable,F=o.selectNodesOnDrag,H=o.sourcePosition,Y=o.targetPosition,P=o.isHidden,f=o.isInitialized,x=o.snapToGrid,M=o.snapGrid,w=o.isDragging,E=o.resizeObserver,T=G(function(q){return q.updateNodeDimensions}),k=G(function(q){return q.addSelectedElements}),v=G(function(q){return q.updateNodePosDiff}),y=G(function(q){return q.unsetNodesSelection}),p=Object(S.useRef)(null),b=Object(S.useMemo)(function(){return{id:a,type:i,position:{x:s,y:l},data:c}},[a,i,s,l,c]),R=Object(S.useMemo)(function(){return x?M:[1,1]},[x,M]),z=Object(S.useMemo)(function(){return ev({zIndex:d?10:3,transform:"translate(".concat(s,"px,").concat(l,"px)"),pointerEvents:I||$||g||h||m||_?"all":"none",opacity:f?1:0},O)},[d,s,l,I,$,g,f,O,h,m,_]),V=Object(S.useMemo)(function(){if(!(!h||w))return function(q){return h(q,b)}},[h,w,b]),K=Object(S.useMemo)(function(){if(!(!m||w))return function(q){return m(q,b)}},[m,w,b]),X=Object(S.useMemo)(function(){if(!(!_||w))return function(q){return _(q,b)}},[_,w,b]),oe=Object(S.useMemo)(function(){if(!!N)return function(q){return N(q,b)}},[N,b]),me=Object(S.useCallback)(function(q){$||(I&&(y(),d||k(b)),g==null||g(q,b))},[I,d,$,g,b]),ue=Object(S.useCallback)(function(q){j==null||j(q,b),F&&I?(y(),d||k(b)):!F&&!d&&I&&(y(),k([]))},[b,d,F,I,j]),pe=Object(S.useCallback)(function(q,re){B&&(b.position.x+=re.deltaX,b.position.y+=re.deltaY,B(q,b)),v({id:a,diff:{x:re.deltaX,y:re.deltaY},isDragging:!0})},[a,b,B]),Se=Object(S.useCallback)(function(q){if(!w){I&&!F&&!d&&k(b),g==null||g(q,b);return}v({id:b.id,isDragging:!1}),A==null||A(q,b)},[b,I,F,g,A,w,d]),ve=Object(S.useCallback)(function(q){C==null||C(q,b)},[b,C]);if(Object(S.useLayoutEffect)(function(){p.current&&!P&&T([{id:a,nodeElement:p.current,forceUpdate:!0}])},[a,P,H,Y]),Object(S.useEffect)(function(){if(p.current){var q=p.current;return E==null||E.observe(q),function(){return E==null?void 0:E.unobserve(q)}}},[]),P)return null;var be=De(["react-flow__node","react-flow__node-".concat(i),L,{selected:d,selectable:I}]);return D.a.createElement(Tp,{onStart:ue,onDrag:pe,onStop:Se,scale:u,disabled:!$,cancel:".nodrag",nodeRef:p,grid:R,enableUserSelectHack:!1},D.a.createElement("div",{className:be,ref:p,style:z,onMouseEnter:V,onMouseMove:K,onMouseLeave:X,onContextMenu:oe,onClick:me,onDoubleClick:ve,"data-id":a},D.a.createElement(Gp,{value:a},D.a.createElement(t,{id:a,data:c,type:i,xPos:s,yPos:l,selected:d,isConnectable:U,sourcePosition:H,targetPosition:Y,isDragging:w}))))};return n.displayName="NodeWrapper",Object(S.memo)(n)};function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tv(e){var t={input:Rn(e.input||oc),default:Rn(e.default||Kr),output:Rn(e.output||ic)},n={},r=Object.keys(e).filter(function(o){return!["input","default","output"].includes(o)}).reduce(function(o,a){return o[a]=Rn(e[a]||Kr),o},n);return sc(sc({},t),r)}var nv=function(t){var n=t.onSelectionChange,r=Z(function(o){return o.selectedElements});return Object(S.useEffect)(function(){n(r)},[r]),null},Zr=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!=0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(o=r;o--!=0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;o--!=0;){var i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ov=function(t,n){var r=t.getBoundingClientRect();return{source:fc(".source",t,r,n),target:fc(".target",t,r,n)}},fc=function(t,n,r,o){var a=n.querySelectorAll(t);if(!a||!a.length)return null;var i=Array.from(a);return i.map(function(c){var u=c.getBoundingClientRect(),s=nr(c),l=c.getAttribute("data-handleid"),d=c.getAttribute("data-handlepos");return rv({id:l,position:d,x:(u.left-r.left)/o,y:(u.top-r.top)/o},s)})};function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function av(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ko:{var n=t.payload,r={nextNodes:[],nextEdges:[]},o=n.reduce(function(J,ne){if(ct(ne)){var se=e.nodes.find(function(ke){return ke.id===ne.id});if(se){var Pe=W(W({},se),ne);(se.position.x!==ne.position.x||se.position.y!==ne.position.y)&&(Pe.__rf.position=ne.position),typeof ne.type!="undefined"&&ne.type!==se.type&&(Pe.__rf.width=null),J.nextNodes.push(Pe)}else J.nextNodes.push(ns(ne,e.nodeExtent))}else if(it(ne)){var Ie=e.edges.find(function(ke){return ke.id===ne.id});Ie?J.nextEdges.push(W(W({},Ie),ne)):J.nextEdges.push(rs(ne))}return J},r),a=o.nextNodes,i=o.nextEdges;return W(W({},e),{},{nodes:a,edges:i})}case Ao:{var c=e.nodes.map(function(J){var ne=t.payload.find(function(ke){return ke.id===J.id});if(ne){var se=nr(ne.nodeElement),Pe=se.width&&se.height&&(J.__rf.width!==se.width||J.__rf.height!==se.height||ne.forceUpdate);if(Pe){var Ie=ov(ne.nodeElement,e.transform[2]);return W(W({},J),{},{__rf:W(W(W({},J.__rf),se),{},{handleBounds:Ie})})}}return J});return W(W({},e),{},{nodes:c})}case Lo:{var u=t.payload,s=u.id,l=u.pos,d=l;if(e.snapToGrid){var g=de(e.snapGrid,2),h=g[0],m=g[1];d={x:h*Math.round(l.x/h),y:m*Math.round(l.y/m)}}var _=e.nodes.map(function(J){return J.id===s?W(W({},J),{},{__rf:W(W({},J.__rf),{},{position:d})}):J});return W(W({},e),{},{nodes:_})}case Bo:{var N=t.payload,C=N.id,j=N.diff,B=N.isDragging,A=e.nodes.map(function(J){var ne;if(C===J.id||(ne=e.selectedElements)!==null&&ne!==void 0&&ne.find(function(Pe){return Pe.id===J.id})){var se=W(W({},J),{},{__rf:W(W({},J.__rf),{},{isDragging:B})});return j&&(se.__rf.position={x:J.__rf.position.x+j.x,y:J.__rf.position.y+j.y}),se}return J});return W(W({},e),{},{nodes:A})}case zo:{var O=t.payload;return W(W({},e),{},{selectionActive:!0,userSelectionRect:{width:0,height:0,startX:O.x,startY:O.y,x:O.x,y:O.y,draw:!0}})}case $o:{var L,$,I=t.payload,U=(L=e.userSelectionRect.startX)!==null&&L!==void 0?L:0,F=($=e.userSelectionRect.startY)!==null&&$!==void 0?$:0,H=W(W({},e.userSelectionRect),{},{x:I.x<U?I.x:e.userSelectionRect.x,y:I.y<F?I.y:e.userSelectionRect.y,width:Math.abs(I.x-U),height:Math.abs(I.y-F)}),Y=ma(e.nodes,H,e.transform),P=ya(Y,e.edges),f=[].concat(Qe(Y),Qe(P)),x=!Zr(f,e.selectedElements),M=x?{selectedElements:f.length>0?f:null}:{};return W(W(W({},e),M),{},{userSelectionRect:H})}case Ho:{var w,E=(w=e.selectedElements)===null||w===void 0?void 0:w.filter(function(J){return ct(J)&&J.__rf}),T=W(W({},e),{},{selectionActive:!1,userSelectionRect:W(W({},e.userSelectionRect),{},{draw:!1})});if(!E||E.length===0)T.selectedElements=null,T.nodesSelectionActive=!1;else{var k=rr(E);T.selectedNodesBbox=k,T.nodesSelectionActive=!0}return T}case Xo:{var v=t.payload,y=Array.isArray(v)?v:[v],p=!Zr(y,e.selectedElements),b=p?y:e.selectedElements;return W(W({},e),{},{selectedElements:b})}case Fo:{var R=e.multiSelectionActive,z=e.selectedElements,V=t.payload,K=Array.isArray(V)?V:[V],X=K;R&&(X=z?[].concat(Qe(z),Qe(K)):K);var oe=!Zr(X,e.selectedElements),me=oe?X:e.selectedElements;return W(W({},e),{},{selectedElements:me})}case Ko:{var ue=t.payload,pe=ue.d3Zoom,Se=ue.d3Selection,ve=ue.d3ZoomHandler,be=ue.transform;return W(W({},e),{},{d3Zoom:pe,d3Selection:Se,d3ZoomHandler:ve,transform:be})}case Zo:{var q,re=t.payload;return(q=e.d3Zoom)===null||q===void 0||q.scaleExtent([re,e.maxZoom]),W(W({},e),{},{minZoom:re})}case Go:{var Re,ze=t.payload;return(Re=e.d3Zoom)===null||Re===void 0||Re.scaleExtent([e.minZoom,ze]),W(W({},e),{},{maxZoom:ze})}case qo:{var $e,ot=t.payload;return($e=e.d3Zoom)===null||$e===void 0||$e.translateExtent(ot),W(W({},e),{},{translateExtent:ot})}case ua:{var Ze=t.payload;return W(W({},e),{},{nodeExtent:Ze,nodes:e.nodes.map(function(J){return W(W({},J),{},{__rf:W(W({},J.__rf),{},{position:fa(J.__rf.position,Ze)})})})})}case Do:case jo:case Ro:case Io:case Yo:case Uo:case Vo:case Wo:case Qo:case Jo:case ea:case ta:case na:case ra:case oa:case aa:case ia:case ca:return W(W({},e),t.payload);default:return e}}function pc(e){var t=lo(av,e);return t}var Gr={width:0,height:0,transform:[0,0,1],nodes:[],edges:[],selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:St.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"9.6.3"},iv=pc(Gr),vc=function(t){var n=t.children,r=Object(S.useContext)(Ve),o=Object(S.useMemo)(function(){var a,i;return r==null||(a=r.store)===null||a===void 0||(i=a.getState())===null||i===void 0?void 0:i.reactFlowVersion},[r]);return o?D.a.createElement(D.a.Fragment,null,n):D.a.createElement(_o,{store:iv},n)};vc.displayName="ReactFlowWrapper";function hc(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var cv=".react-flow{width:100%;height:100%;position:relative;overflow:hidden}.react-flow__pane,.react-flow__renderer,.react-flow__selectionpane{width:100%;height:100%;position:absolute;top:0;left:0}.react-flow__pane{z-index:1}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow__edges,.react-flow__selection{position:absolute;top:0;left:0}.react-flow__edges{pointer-events:none;z-index:2}.react-flow__edge{pointer-events:visibleStroke;}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none;}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{width:100%;height:100%;pointer-events:none;z-index:3}.react-flow__node,.react-flow__nodes{position:absolute;transform-origin:0 0}.react-flow__node{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:all}.react-flow__nodesselection{z-index:3;position:absolute;width:100%;height:100%;top:0;left:0;transform-origin:left top;pointer-events:none;}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{pointer-events:none;}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__background{position:absolute;top:0;left:0;width:100%;height:100%}.react-flow__controls{position:absolute;z-index:5;bottom:10px;left:10px;}.react-flow__controls-button{width:24px;height:24px;border:none;}.react-flow__controls-button svg{width:100%}.react-flow__minimap{position:absolute;z-index:5;bottom:10px;right:10px}";hc(cv);var uv=".react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-input{background:#fff;border-color:#0041d0;}.react-flow__node-input.selected,.react-flow__node-input.selected:hover{box-shadow:0 0 0 .5px #0041d0}.react-flow__node-input .react-flow__handle{background:#0041d0}.react-flow__node-default{background:#fff;border-color:#1a192b;}.react-flow__node-default.selected,.react-flow__node-default.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle{background:#1a192b}.react-flow__node-output{background:#fff;border-color:#ff0072;}.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #ff0072}.react-flow__node-output .react-flow__handle{background:#ff0072}.react-flow__nodesselection-rect{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{position:absolute;width:6px;height:6px;background:#555;border:1px solid #fff;border-radius:100%;}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08);}.react-flow__controls-button{background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:5px;}.react-flow__controls-button svg{max-width:12px;max-height:12px}.react-flow__controls-button:hover{background:#f4f4f4}";hc(uv);var sv=["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","nodeTypesId","edgeTypesId"];function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lv={input:oc,default:Kr,output:ic},fv={default:kr,straight:Ui,step:Hi,smoothstep:Fr},yc=Object(S.forwardRef)(function(e,t){var n=e.elements,r=n===void 0?[]:n,o=e.className,a=e.nodeTypes,i=a===void 0?lv:a,c=e.edgeTypes,u=c===void 0?fv:c,s=e.onElementClick,l=e.onLoad,d=e.onMove,g=e.onMoveStart,h=e.onMoveEnd,m=e.onElementsRemove,_=e.onConnect,N=e.onConnectStart,C=e.onConnectStop,j=e.onConnectEnd,B=e.onNodeMouseEnter,A=e.onNodeMouseMove,O=e.onNodeMouseLeave,L=e.onNodeContextMenu,$=e.onNodeDoubleClick,I=e.onNodeDragStart,U=e.onNodeDrag,F=e.onNodeDragStop,H=e.onSelectionChange,Y=e.onSelectionDragStart,P=e.onSelectionDrag,f=e.onSelectionDragStop,x=e.onSelectionContextMenu,M=e.connectionMode,w=M===void 0?St.Strict:M,E=e.connectionLineType,T=E===void 0?lt.Bezier:E,k=e.connectionLineStyle,v=e.connectionLineComponent,y=e.deleteKeyCode,p=y===void 0?"Backspace":y,b=e.selectionKeyCode,R=b===void 0?"Shift":b,z=e.multiSelectionKeyCode,V=z===void 0?"Meta":z,K=e.zoomActivationKeyCode,X=K===void 0?"Meta":K,oe=e.snapToGrid,me=oe===void 0?!1:oe,ue=e.snapGrid,pe=ue===void 0?[15,15]:ue,Se=e.onlyRenderVisibleElements,ve=Se===void 0?!1:Se,be=e.selectNodesOnDrag,q=be===void 0?!0:be,re=e.nodesDraggable,Re=e.nodesConnectable,ze=e.elementsSelectable,$e=e.minZoom,ot=e.maxZoom,Ze=e.defaultZoom,J=Ze===void 0?1:Ze,ne=e.defaultPosition,se=ne===void 0?[0,0]:ne,Pe=e.translateExtent,Ie=e.preventScrolling,ke=Ie===void 0?!0:Ie,ee=e.nodeExtent,Ge=e.arrowHeadColor,Xt=Ge===void 0?"#b1b1b7":Ge,Ot=e.markerEndId,_t=e.zoomOnScroll,Yt=_t===void 0?!0:_t,xt=e.zoomOnPinch,Ct=xt===void 0?!0:xt,An=e.panOnScroll,no=An===void 0?!1:An,Ln=e.panOnScrollSpeed,ro=Ln===void 0?.5:Ln,Bn=e.panOnScrollMode,oo=Bn===void 0?wt.Free:Bn,zn=e.zoomOnDoubleClick,ao=zn===void 0?!0:zn,$n=e.paneMoveable,io=$n===void 0?!0:$n,Ft=e.onPaneClick,at=e.onPaneScroll,Hn=e.onPaneContextMenu,Un=e.children,Xn=e.onEdgeUpdate,Yn=e.onEdgeContextMenu,Fn=e.onEdgeDoubleClick,Vn=e.onEdgeMouseEnter,ae=e.onEdgeMouseMove,co=e.onEdgeMouseLeave,Cv=e.onEdgeUpdateStart,Mv=e.onEdgeUpdateEnd,Dc=e.edgeUpdaterRadius,Pv=Dc===void 0?10:Dc,jc=e.nodeTypesId,Nv=jc===void 0?"1":jc,Rc=e.edgeTypesId,Tv=Rc===void 0?"1":Rc,Dv=Ae(e,sv),jv=Object(S.useMemo)(function(){return tv(i)},[Nv]),Rv=Object(S.useMemo)(function(){return Hp(u)},[Tv]),Iv=De(["react-flow",o]);return D.a.createElement("div",mc(mc({},Dv),{},{ref:t,className:Iv}),D.a.createElement(vc,null,D.a.createElement(Kp,{onLoad:l,onMove:d,onMoveStart:g,onMoveEnd:h,onElementClick:s,onNodeMouseEnter:B,onNodeMouseMove:A,onNodeMouseLeave:O,onNodeContextMenu:L,onNodeDoubleClick:$,onNodeDragStart:I,onNodeDrag:U,onNodeDragStop:F,nodeTypes:jv,edgeTypes:Rv,connectionMode:w,connectionLineType:T,connectionLineStyle:k,connectionLineComponent:v,selectionKeyCode:R,onElementsRemove:m,deleteKeyCode:p,multiSelectionKeyCode:V,zoomActivationKeyCode:X,onConnect:_,onConnectStart:N,onConnectStop:C,onConnectEnd:j,snapToGrid:me,snapGrid:pe,onlyRenderVisibleElements:ve,nodesDraggable:re,nodesConnectable:Re,elementsSelectable:ze,selectNodesOnDrag:q,minZoom:$e,maxZoom:ot,defaultZoom:J,defaultPosition:se,translateExtent:Pe,preventScrolling:ke,nodeExtent:ee,arrowHeadColor:Xt,markerEndId:Ot,zoomOnScroll:Yt,zoomOnPinch:Ct,zoomOnDoubleClick:ao,panOnScroll:no,panOnScrollSpeed:ro,panOnScrollMode:oo,paneMoveable:io,onPaneClick:Ft,onPaneScroll:at,onPaneContextMenu:Hn,onSelectionDragStart:Y,onSelectionDrag:P,onSelectionDragStop:f,onSelectionContextMenu:x,onEdgeUpdate:Xn,onEdgeContextMenu:Yn,onEdgeDoubleClick:Fn,onEdgeMouseEnter:Vn,onEdgeMouseMove:ae,onEdgeMouseLeave:co,onEdgeUpdateStart:Cv,onEdgeUpdateEnd:Mv,edgeUpdaterRadius:Pv}),D.a.createElement(Zp,{elements:r}),H&&D.a.createElement(nv,{onSelectionChange:H}),Un))});yc.displayName="ReactFlow";function Jv(){var e=G(function(t){return t.updateNodeDimensions});return Object(S.useCallback)(function(t){var n=document.querySelector('.react-flow__node[data-id="'.concat(t,'"]'));n&&e([{id:t,nodeElement:n,forceUpdate:!0}])},[])}var bc=function(t){var n=t.x,r=t.y,o=t.width,a=t.height,i=t.style,c=t.color,u=t.strokeColor,s=t.strokeWidth,l=t.className,d=t.borderRadius,g=t.shapeRendering,h=i||{},m=h.background,_=h.backgroundColor,N=c||m||_;return D.a.createElement("rect",{className:De(["react-flow__minimap-node",l]),x:n,y:r,rx:d,ry:d,width:o,height:a,fill:N,stroke:u,strokeWidth:s,shapeRendering:g})};bc.displayName="MiniMapNode";var dv=Object(S.memo)(bc),pv=200,vv=150,Sc=function(t){var n=t.style,r=t.className,o=t.nodeStrokeColor,a=o===void 0?"#555":o,i=t.nodeColor,c=i===void 0?"#fff":i,u=t.nodeClassName,s=u===void 0?"":u,l=t.nodeBorderRadius,d=l===void 0?5:l,g=t.nodeStrokeWidth,h=g===void 0?2:g,m=t.maskColor,_=m===void 0?"rgb(240, 242, 243, 0.7)":m,N=Z(function(X){return X.width}),C=Z(function(X){return X.height}),j=Z(function(X){return X.transform}),B=de(j,3),A=B[0],O=B[1],L=B[2],$=Z(function(X){return X.nodes}),I=De(["react-flow__minimap",r]),U=(n==null?void 0:n.width)||pv,F=(n==null?void 0:n.height)||vv,H=c instanceof Function?c:function(){return c},Y=a instanceof Function?a:function(){return a},P=s instanceof Function?s:function(){return s},f=$&&$.length,x=rr($),M={x:-A/L,y:-O/L,width:N/L,height:C/L},w=f?os(x,M):M,E=w.width/U,T=w.height/F,k=Math.max(E,T),v=k*U,y=k*F,p=5*k,b=w.x-(v-w.width)/2-p,R=w.y-(y-w.height)/2-p,z=v+p*2,V=y+p*2,K=typeof window=="undefined"||!!window.chrome?"crispEdges":"geometricPrecision";return D.a.createElement("svg",{width:U,height:F,viewBox:"".concat(b," ").concat(R," ").concat(z," ").concat(V),style:n,className:I},$.filter(function(X){return!X.isHidden}).map(function(X){return D.a.createElement(dv,{key:X.id,x:X.__rf.position.x,y:X.__rf.position.y,width:X.__rf.width,height:X.__rf.height,style:X.style,className:P(X),color:H(X),borderRadius:d,strokeColor:Y(X),strokeWidth:h,shapeRendering:K})}),D.a.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(b-p,",").concat(R-p,"h").concat(z+p*2,"v").concat(V+p*2,"h").concat(-z-p*2,`z
        M`).concat(M.x,",").concat(M.y,"h").concat(M.width,"v").concat(M.height,"h").concat(-M.width,"z"),fill:_,fillRule:"evenodd"}))};Sc.displayName="MiniMap";var eh=Object(S.memo)(Sc),wc;function qr(){return qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}function hv(e){return S.createElement("svg",qr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),wc||(wc=S.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})))}var Ec;function Qr(){return Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}function gv(e){return S.createElement("svg",Qr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e),Ec||(Ec=S.createElement("path",{d:"M0 0h32v4.2H0z"})))}var Oc;function Jr(){return Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}function mv(e){return S.createElement("svg",Jr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e),Oc||(Oc=S.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 01-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})))}var _c;function eo(){return eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}function yv(e){return S.createElement("svg",eo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),_c||(_c=S.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})))}var xc;function to(){return to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(this,arguments)}function bv(e){return S.createElement("svg",to({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),xc||(xc=S.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})))}var Sv=["children","className"];function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var In=function(t){var n=t.children,r=t.className,o=Ae(t,Sv);return D.a.createElement("button",wv({className:De(["react-flow__controls-button",r])},o),n)},Mc=function(t){var n=t.style,r=t.showZoom,o=r===void 0?!0:r,a=t.showFitView,i=a===void 0?!0:a,c=t.showInteractive,u=c===void 0?!0:c,s=t.fitViewParams,l=t.onZoomIn,d=t.onZoomOut,g=t.onFitView,h=t.onInteractiveChange,m=t.className,_=t.children,N=Object(S.useState)(!1),C=de(N,2),j=C[0],B=C[1],A=G(function(x){return x.setInteractive}),O=Qi(),L=O.zoomIn,$=O.zoomOut,I=O.fitView,U=Z(function(x){return x.nodesDraggable&&x.nodesConnectable&&x.elementsSelectable}),F=De(["react-flow__controls",m]),H=Object(S.useCallback)(function(){L==null||L(),l==null||l()},[L,l]),Y=Object(S.useCallback)(function(){$==null||$(),d==null||d()},[$,d]),P=Object(S.useCallback)(function(){I==null||I(s),g==null||g()},[I,s,g]),f=Object(S.useCallback)(function(){A==null||A(!U),h==null||h(!U)},[U,A,h]);return Object(S.useEffect)(function(){B(!0)},[]),j?D.a.createElement("div",{className:F,style:n},o&&D.a.createElement(D.a.Fragment,null,D.a.createElement(In,{onClick:H,className:"react-flow__controls-zoomin"},D.a.createElement(hv,null)),D.a.createElement(In,{onClick:Y,className:"react-flow__controls-zoomout"},D.a.createElement(gv,null))),i&&D.a.createElement(In,{className:"react-flow__controls-fitview",onClick:P},D.a.createElement(mv,null)),u&&D.a.createElement(In,{className:"react-flow__controls-interactive",onClick:f},U?D.a.createElement(bv,null):D.a.createElement(yv,null)),_):null};Mc.displayName="Controls";var th=Object(S.memo)(Mc),Ev=function(t,n,r){return D.a.createElement("path",{stroke:r,strokeWidth:n,d:"M".concat(t/2," 0 V").concat(t," M0 ").concat(t/2," H").concat(t)})},Ov=function(t,n){return D.a.createElement("circle",{cx:t,cy:t,r:t,fill:n})},kn;function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _v=(kn={},le(kn,bt.Dots,"#81818a"),le(kn,bt.Lines,"#eee"),kn),Tc=function(t){var n=t.variant,r=n===void 0?bt.Dots:n,o=t.gap,a=o===void 0?15:o,i=t.size,c=i===void 0?.4:i,u=t.color,s=t.style,l=t.className,d=Z(function(I){return I.transform}),g=de(d,3),h=g[0],m=g[1],_=g[2],N=Object(S.useMemo)(function(){return"pattern-".concat(Math.floor(Math.random()*1e5))},[]),C=De(["react-flow__background",l]),j=a*_,B=h%j,A=m%j,O=r===bt.Lines,L=u||_v[r],$=O?Ev(j,c,L):Ov(c*_,L);return D.a.createElement("svg",{className:C,style:Nc(Nc({},s),{},{width:"100%",height:"100%"})},D.a.createElement("pattern",{id:N,x:B,y:A,width:j,height:j,patternUnits:"userSpaceOnUse"},$),D.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(N,")")}))};Tc.displayName="Background";var nh=Object(S.memo)(Tc),xv=function(t){var n=t.children,r=Object(S.useMemo)(function(){return pc(Gr)},[]);return D.a.createElement(_o,{store:r},n)};xv.displayName="ReactFlowProvider",Vt.b=yc},"rAM+":function(Ic,Vt,Ne){"use strict";Ne.d(Vt,"a",function(){return Wn});var Wt=Ne("Qw5x");function Wn(Te,Kn){var S;if(typeof Symbol=="undefined"||Te[Symbol.iterator]==null){if(Array.isArray(Te)||(S=Object(Wt.a)(Te))||Kn&&Te&&typeof Te.length=="number"){S&&(Te=S);var D=0,Mt=function(){};return{s:Mt,n:function(){return D>=Te.length?{done:!0}:{done:!1,value:Te[D++]}},e:function(Ae){throw Ae},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt=!0,Kt=!1,le;return{s:function(){S=Te[Symbol.iterator]()},n:function(){var Ae=S.next();return Pt=Ae.done,Ae},e:function(Ae){Kt=!0,le=Ae},f:function(){try{!Pt&&S.return!=null&&S.return()}finally{if(Kt)throw le}}}}}}]);
